!function(e){e.f[0]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0}),e.r(1);const n=e.r(5),r=e.r(2);n.configure(r.App).then(e=>{e.start(document.body)}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("serviceWorker.js").then(function(e){console.log("ServiceWorker suc  cessful, scope: ",e.scope)},function(e){console.log("ServiceWorker failed: ",e)})})},e.f[2]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(s,"__esModule",{value:!0});const i=e.r(5);class a{constructor(){this.title="Spenningsfall",this.kabelTyper=["CU- (0.0225)","AL- (0.036)"],this.kabelFaser=["2","3"],this.kabelTverrsnitt=["1,5","2,5","4","6","10","16"],this.kabelLengde=20,this.kursAmpere=16,this.cosPhi=1,this.kursSpenning=230,this.valgtType=this.kabelTyper[0],this.valgtFase=this.kabelFaser[0],this.valgtTverrsnitt=this.kabelTverrsnitt[0]}loadTemplate(){return e.r(3)}get prosentTap(){return this.resultat.prosent}get voltTap(){return this.resultat.volt}get resultat(){const e=this.valgtType===this.kabelTyper[0]?.0225:.036,t=this.valgtFase===this.kabelFaser[0]?2:Math.sqrt(3),s=parseFloat(this.valgtTverrsnitt.replace(",",".")),n=parseInt(this.kabelLengde+"",10),r=parseInt(this.kursAmpere+"",10),i=parseInt(this.kursSpenning+"",10),a=e*t*n*r*parseFloat(this.cosPhi+"")/s,o=100*a/i;return{volt:a.toFixed(2),prosent:o.toFixed(2)}}}n([i.computedFrom("kabelLengde","kursAmpere","cosPhi","kursSpenning","valgtType","valgtFase","valgtTverrsnitt"),r("design:type",Object),r("design:paramtypes",[])],a.prototype,"prosentTap",null),n([i.computedFrom("kabelLengde","kursAmpere","cosPhi","kursSpenning","valgtType","valgtFase","valgtTverrsnitt"),r("design:type",Object),r("design:paramtypes",[])],a.prototype,"voltTap",null),s.App=a},e.f[3]=function(e,t){e.exports.default='<template>\r\n\r\n\r\n   <form>\r\n      <legend style="text-align: center;">${title}</legend>\r\n      <div class="form-group  row">\r\n         <label for="Ampere"\r\n                class="col-sm-2 col-5 col-form-label">Ampere</label>\r\n         <div class="col-sm-10 col-7">\r\n            <input id="Ampere"\r\n                   class="form-control"\r\n                   type="number"\r\n                   value.bind="kursAmpere"\r\n                   placeholder="Ampere">\r\n         </div>\r\n      </div>\r\n      <div class="form-group  row">\r\n         <label for="Lengde"\r\n                class="col-sm-2 col-5 col-form-label">Lengde</label>\r\n         <div class="col-sm-10 col-7">\r\n            <input id="Lengde"\r\n                   class="form-control"\r\n                   type="number"\r\n                   value.bind="kabelLengde"\r\n                   placeholder="Lengde">\r\n         </div>\r\n      </div>\r\n\r\n      <div class="form-group  row">\r\n         <label for="cosPhi"\r\n                class="col-sm-2 col-5 col-form-label">CosPhi</label>\r\n         <div class="col-sm-10 col-7">\r\n            <input id="cosPhi"\r\n                   class="form-control"\r\n                   type="number"\r\n                   value.bind="cosPhi"\r\n                   placeholder="cosPhi">\r\n         </div>\r\n      </div>\r\n\r\n      <div class="form-group  row">\r\n         <label for="Spenning"\r\n                class="col-sm-2 col-5 col-form-label">Spenning</label>\r\n         <div class="col-sm-10 col-7">\r\n            <input id="Spenning"\r\n                   type="number"\r\n                   class="form-control"\r\n                   value.bind="kursSpenning"\r\n                   placeholder="Spenning">\r\n         </div>\r\n      </div>\r\n\r\n\r\n      <fieldset class="form-group">\r\n         <div class="row">\r\n            <legend class="col-form-label col-sm-2 col-5 pt-0">Faser</legend>\r\n            <div class="col-sm-10 col-7">\r\n               <div class="form-check"\r\n                    repeat.for="product of kabelFaser">\r\n\r\n                  <input type="radio"\r\n                         name="groupRadio1"\r\n                         model.bind="product"\r\n                         checked.bind="valgtFase">\r\n                  <label class="form-check-label"\r\n                         for="groupRadio1">${product}<label>\r\n               </div>\r\n            </div>\r\n      </fieldset>\r\n\r\n      <fieldset class="form-group">\r\n         <div class="row">\r\n            <legend class="col-form-label col-sm-2 col-5 pt-0">Kabel typer</legend>\r\n            <div class="col-sm-10 col-7">\r\n               <div class="form-check"\r\n                    repeat.for="product of kabelTyper">\r\n\r\n                  <input type="radio"\r\n                         name="groupRadio2"\r\n                         model.bind="product"\r\n                         checked.bind="valgtType">\r\n                  <label class="form-check-label"\r\n                         for="groupRadio2">${product}<label>\r\n               </div>\r\n            </div>\r\n      </fieldset>\r\n\r\n      <fieldset class="form-group">\r\n         <div class="row">\r\n            <legend class="col-form-label col-sm-2 col-5 pt-0">Tverrsnitt</legend>\r\n            <div class="col-sm-10 col-7">\r\n               <div class="form-check"\r\n                    repeat.for="product of kabelTverrsnitt">\r\n\r\n                  <input type="radio"\r\n                         name="groupRadio3"\r\n                         model.bind="product"\r\n                         checked.bind="valgtTverrsnitt">\r\n                  <label class="form-check-label"\r\n                         for="groupRadio3">${product}<label></label>\r\n               </div>\r\n            </div>\r\n      </fieldset>\r\n\r\n      <div style="text-align: center;"\r\n           class="alert alert-primary"\r\n           role="alert">\r\n         <u>Spenning fall:</u>\r\n         <br>\r\n         <b>${voltTap}</b> V\r\n         <br>\r\n         <b>${prosentTap}</b> %\r\n      </div>\r\n\r\n</template>'},e.f[4]=function(e,t){var s=function(e,t){var s=e.replace(/[\.\/]+/g,"-");"-"===s.charAt(0)&&(s=s.substring(1));var n=document.getElementById(s);if(n)t&&(n.innerHTML=t);else{var r=document.createElement(t?"style":"link");r.id=s,r.type="text/css",t?r.innerHTML=t:(r.rel="stylesheet",r.href=e),document.getElementsByTagName("head")[0].appendChild(r)}};"undefined"!=typeof FuseBox&&FuseBox.on("async",function(e){if(/\.css$/.test(e))return s(e),!1}),e.exports=s},e.f[5]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(6);s.configure=n.configure;var r=e.r(67);s.computedFrom=r.computedFrom},e.f[6]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(8);s.EventAggregator=n.EventAggregator;var r=e.r(9);s.Queue=r.Queue;var i=e.r(10);s.configure=i.configure;var a=e.r(17);s.MF=a.MF;var o=e.r(92);s.Cache=o.Cache;var l=e.r(93);s.Logger=l.Logger;var c=e.r(94);s.raiseEvent=c.raiseEvent;var h=e.r(95);s.register=h.register;var u=e.r(96);s.FetchClient=u.FetchClient;var d=e.r(97);s.urlqueryStringify=d.urlqueryStringify,s.urlQueryParse=d.urlQueryParse;var p=e.r(98);s.connectBehavior=p.connectBehavior;var f=e.r(99);s.template=f.template;var b=e.r(18);s.DOM=b.DOM},e.f[8]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.EventAggregator=class{constructor(){this.channels={}}publish(e,...t){if(Array.isArray(this.channels[e]))for(let s=0,n=this.channels[e].length;s<n;s++)this.channels[e][s].apply(this,t)}unsubscribe(e,t){if(Array.isArray(this.channels[e]))for(let s=0,n=this.channels[e].length;s<n;s++)this.channels[e][s]===t&&this.channels[e].splice(s,1)}subscribe(e,t){Array.isArray(this.channels[e])||(this.channels[e]=[]),this.channels[e].push(t)}}},e.f[9]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.Queue=class{constructor(){this.count=0,this.tasks=[],this.topQueue=[],this.started=!1,this.index=-1}finsished(){return 0===this.count}add(e){this.count++,this.tasks.push(e),this.started||(this.started=!0,setTimeout(()=>{this.flush()},0))}flush(){if(this.tasks.reverse(),this.tasks.length<600){this.topQueue=new Array(this.tasks.length);for(let e=0,t=this.tasks.length;e<t;e++)this.topQueue[e]=this.tasks.pop()}else{600!==this.topQueue.length&&(this.topQueue=new Array(600));for(let e=0,t=600;e<t;e++)this.topQueue[e]=this.tasks.pop()}this.tasks.reverse(),this.index=0,0===this.topQueue.length&&(this.started=!1),this.runTasks()}reFlush(){setTimeout(()=>{this.flush()},0)}runTasks(){const e=this.topQueue[this.index];let t;this.index++,t=(()=>{const e=this.topQueue[this.index];this.index++,e?(e.call(t),this.count--):this.index>this.topQueue.length-1?this.reFlush():this.started=!1}),e&&(e.call(t),this.count--)}}},e.f[10]=function(t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new s(function(t){t(e.value)}).then(a,o)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(11),i=e.r(17),a=e.r(18);s.configure=function(e){return n(this,void 0,void 0,function*(){const t=r.ContainerClasses.get(i.MF),s=r.ContainerClasses.get(e);return null===a.DOM.document.body?new Promise(e=>{a.DOM.document.addEventListener("DOMContentLoaded",function(){e(t.setRootApp(s))})}):yield t.setRootApp(s)})}},e.f[11]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(12);s.ContainerClasses=n.ContainerClasses;var r=e.r(13);s.ContainerAttributes=r.ContainerAttributes;var i=e.r(14);s.ContainerElements=i.ContainerElements;var a=e.r(15);s.ContainerValueConverters=a.ContainerValueConverters;var o=e.r(16);s.ContainerBehavior=o.ContainerBehavior},e.f[12]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=new Map,n=new Map,r=new Map;t.ContainerClasses=class{static get(e){return this.getInstance(e)}static getInstance(e){return r.has(e)?this.create(e):(n.get(e)||n.set(e,this.create(e)),n.get(e))}static create(e){let t=s.get(e)||[];return t=t.map(e=>{try{return this.get(e)}catch(t){return e}}),new e(...t)}static setDep(e,t){s.set(e,t)}static regTransient(e){r.has(e)||r.set(e,null)}}},e.f[13]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=new Map;t.ContainerAttributes=class{static regAttribute(e,t){s.has(t)||s.set(t,e),s.has(t)||s.set(t,e)}static findAttribute(e){return s.has(e)?s.get(e):null}}},e.f[14]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=new Map;t.ContainerElements=class{static regElement(e,t){s.has(t)||s.set(t,e)}static findElement(e){return s.has(e)?s.get(e):null}}},e.f[15]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=new Map;t.ContainerValueConverters=class{static regConverter(e,t){s.has(t)||s.set(t,e)}static findConverter(e){return s.has(e)?s.get(e):null}}},e.f[16]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=new Map;t.ContainerBehavior=class{static regBehavior(e,t){s.has(t)||s.set(t,e)}static findBehavior(e){return s.has(e)?s.get(e):null}}},e.f[17]=function(t,s){var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(r,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function o(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?r(e.value):new s(function(t){t(e.value)}).then(a,o)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(18),i=e.r(19),a=e.r(65),o=e.r(82),l=e.r(22);s.MF=class{constructor(){this.count=0,r.DOM.window.Reflect||(r.DOM.window.Reflect=Object),this.register(o.ValueAttribute,o.IfAttribute,o.DelgateEventsAttribute,o.RepeatAttribute,o.MiscAttributes,o.CssAttribute,o.ModelAttribute,o.TriggerEventsAttribute,a.SignalBehavior,a.ThrottleBehavior,a.DebounceBehavior,a.TriggerBehavior)}setRootApp(e){return this.app=e,this}start(e){return n(this,void 0,void 0,function*(){this.node=e,this.$view=new i.ViewController(e,null),i.View.parseAndCreateElement(this.app,this.node,l.createBindingContext(this),null,this.$view)})}register(...e){}}},e.f[18]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(9),r=e.r(11);let i,a,o={SHOW_ALL:-1,FILTER_ACCEPT:1,FILTER_REJECT:2};try{document&&(i=document),window&&(a=window),NodeFilter&&(o=NodeFilter)}catch(e){}s.DOM=class{static get document(){return i}static get window(){return a}static get nodeFilter(){return o}static setConfig(e,t){i=t,a=e}static waitForQueue(e=30){return new Promise(t=>{const s=r.ContainerClasses.get(n.Queue),i=()=>{setTimeout(()=>{s.finsished()?t():i()},e)};i()})}}},e.f[19]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(20);s.AttributeController=n.AttributeController;var r=e.r(61);s.ElementController=r.ElementController;var i=e.r(63);s.InterpolateController=i.InterpolateController;var a=e.r(21);s.ViewController=a.ViewController;var o=e.r(62);s.View=o.View;var l=e.r(64);s.addAttribute=l.addAttribute},e.f[20]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(21),r=e.r(11),i=e.r(22),a=e.r(6);s.AttributeController=class{constructor(e,t,s,i,o){this.bindingContext=e,this.htmlNode=t,this.attributeNode=s,this.logger=a.Logger.getLogger(s.name,"attribute"),this.classInstance=r.ContainerClasses.get(i),this.htmlNode=t,"if.bind"===s.name||"repeat.for"===s.name?(this.viewController=new n.ViewController(t,o),this.viewController.addAttribute(this)):(o.addAttribute(this),this.viewController=o)}init(){this.create()}searchForInstance(e){return this.viewController.searchForInstance(e)}getView(){return this.viewController}create(){this.logger.log("created",this.attributeNode.name,this.attributeNode.value),this.classInstance.$element=this.htmlNode,this.classInstance.$bindingContext=this.bindingContext,this.classInstance.$attribute=this.attributeNode,this.classInstance.$controller=this,i.BindingEngine.subscribeClassMetaBinding(this.classInstance),this.classInstance.created&&this.classInstance.created()}attached(){this.logger.log("attached",this.attributeNode.name,this.attributeNode.value),this.classInstance.attached&&this.classInstance.attached()}detached(){this.logger.log("detached",this.attributeNode.name,this.attributeNode.value),this.classInstance.detached&&this.classInstance.detached(),i.BindingEngine.unSubscribeClassMetaBinding(this.classInstance),this.bindingContext=null,this.htmlNode=null,this.attributeNode=null,this.classInstance.$element=null,this.classInstance.$bindingContext=null,this.classInstance.$attribute=null,this.classInstance.$controller=null,this.classInstance=null,this.viewController=null}}},e.f[21]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.ViewController=class{constructor(e,t){this.htmlNode=e,this.viewController=t,this.count=0,t&&this.viewController.addChildView(this)}searchForInstance(e){for(const t in this.items)if(this.items&&this.items[t]&&this.items[t].classInstance&&this.items[t].classInstance instanceof e)return this.items[t].classInstance;if(this.viewController){const t=this.viewController.searchForInstance(e);if(t)return t}return null}addElement(e){this.count++,this.items||(this.items={}),this.items["e"+this.count]=e}addAttribute(e){this.count++,this.items||(this.items={}),this.items["a"+this.count]=e}addInterpolate(e){this.count++,this.items||(this.items={}),this.items["i"+this.count]=e}getElement(){return this.htmlNode}addChildView(e){this.childViewControllers||(this.childViewControllers=[]),this.childViewControllers.push(e)}removeChildView(e){if(this.childViewControllers){const t=this.childViewControllers.indexOf(e);-1!==t&&this.childViewControllers.splice(t,1)}}clearView(){if(this.childViewControllers)for(;this.childViewControllers.length;)this.childViewControllers.pop().clearView();if(this.items)for(const e in this.items)this.items[e].detached&&(this.items[e].detached(),this.items[e]=null);this.viewController&&this.viewController.removeChildView(this),this.childViewControllers=null,this.items=null,this.htmlNode=null,this.viewController=null}}},e.f[22]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(23);s.BindingEngine=n.BindingEngine;var r=e.r(60);s.createBindingContext=r.createBindingContext},e.f[23]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(24),r=e.r(27),i=e.r(30),a=e.r(35),o=e.r(26),l=e.r(49),c=e.r(51),h=e.r(52),u=e.r(53),d=e.r(57),p=e.r(58),f=e.r(59),b=e.r(6);class g{static tokenizeParseAndTraverseAST(e,t){let s;if(b.Cache.expressionMap.has(e)){s=b.Cache.expressionMap.get(e).ast}else{const t=r.tokenize(e);s=i.generateAST(t)}return n.traverseAST(s,t)}static printTokensAndAST(e,t){const s=r.tokenize(e),a=i.generateAST(s),o=n.traverseAST(a,t);console.log("tokens:",s),console.log("ast:",a),console.log("result:",o)}}g.tokenize=r.tokenize,g.traverseAST=n.traverseAST,g.generateAST=i.generateAST,g.valueConvert=n.valueConvert,g.getBehavior=n.getBehavior,g.createBindingExpression=a.createBindingExpression,g.setValue=o.setValue,g.subscribeClassProperty=l.subscribeClassProperty,g.unSubscribeClassProperty=c.unSubscribeClassProperty,g.evaluateExpression=h.evaluateExpression,g.subscribeClassArray=u.subscribeClassArray,g.unSubscribeClassArray=d.unSubscribeClassArray,g.unSubscribeClassMetaBinding=p.unSubscribeClassMetaBinding,g.subscribeClassMetaBinding=f.subscribeClassMetaBinding,s.BindingEngine=g},e.f[24]=function(t,s){var n;Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(11),i=e.r(25),a=e.r(26);let o;const l=((n=class{}).operator=function(e,t,s){switch(e){case"+":return t+s;case"-":return s?t-s:-t;case"*":return t*s;case"!":return!t;case"%":return t%s;case">":return t>s;case"<":return t<s;case">=":return t>=s;case"&&":return t&&s;case"||":return t||s;case"<=":return t<=s;case"+=":return t+s;case"-=":return t-s;case"*=":return t*s;case"/=":return t/s;case"===":return t===s;case"!==":return t!==s;case"/":return t/s;case"^":return t^s}},n.checkArity=function(e,t,s){let n;return e&&"literal"===e.arity&&(n=e.value),e&&"variable"===e.arity&&(n=l.variable(e,t,s)),e&&"binary"===e.arity&&(n=l.binary(e,t,s)),e&&"unary"===e.arity&&(n=l.binary(e,t,s)),e&&"ternary"===e.arity&&(n=l.ternary(e,t,s)),e&&"valueConverter"===e.arity&&(n=l.valueConverter(e,t,s)),n},n.variable=function(e,t,s){let n;try{switch(!0){case"null"===e.value&&"variable"===e.arity:return null;case"undefined"===e.value&&"variable"===e.arity:return;case"$this"===e.value&&"variable"===e.arity&&e.root:return t.$context;case"$event"===e.value&&"variable"===e.arity&&e.root:return t.$event;case"variable"===e.arity&&"string"==typeof e.value&&"TRUE"===e.value.toUpperCase():return!0;case"variable"===e.arity&&"string"==typeof e.value&&"FALSE"===e.value.toUpperCase():return!1}let s,r=t;t.__bindingContext&&(r=t.$context);let a=!1;e.value&&"string"===e.value[0]&&"$"!==e.value[0][0]&&(a=!0),a?s=r[e.value]:(e.root&&(r=i.getCorrectContext(e.value,t)).__bindingContext&&(r=r.$context),s=r[e.value]),n=s}catch(e){}return n},n.binary=function(e,t,s){let n,r,o;switch(!0){case!0===e.assignment:try{if("variable"===e.first.arity){const n=t.__bindingContext?t.$context:t;"+="===e.value||"-="===e.value?n[e.first.value]=l.operator(e.value,n[e.first.value],l.checkArity(e.second,t,s)):n[e.first.value]=l.checkArity(e.second,t,s)}else{let n=!1,r=e.first;const i=[];for(;!n;)"binary"!==r.second.arity?i.push(r.second.value):i.push(`[${l.checkArity(r.second,t,s)}]`),"variable"===r.first.arity?(i.push(r.first.value),n=!0):r=r.first;i.reverse();const c=i.join(".").split(".[").join("[");"="===e.value?a.setValue(t,c,l.checkArity(e.second,t,s)):(o=l.checkArity(e.first,t,s),a.setValue(t,c,l.operator(e.value,o,l.checkArity(e.second,t,s))))}}catch(t){console.error("only simple assigments are supported, sorry",e)}break;case"{"===e.value:const c={};e.first.forEach(e=>{c[e.key]=l.checkArity(e,t,s)}),r=c;break;case e.isObject:r=n=(o=l.checkArity(e.first,t,s))&&e.contextReset?o[n=l.checkArity(e.second,s,s)]:l.checkArity(e.second,o,s);break;case!e.isFunction:o=l.checkArity(e.first,t,s),n=l.checkArity(e.second,t,s),r=l.operator(e.value,o,n);break;default:const h=[];e.second.forEach(function(e){h.push(l.evaluate(e,s))});let u,d=t.$context;u="binary"===e.first.arity?l.binary(e.first,t,s):d[e.first.value],(d=i.getCorrectContext(e.first.value,t))&&d.$context&&"function"==typeof d.$context[e.first.value]&&(u=d.$context[e.first.value]),u?r=u.apply(d.$context,h):console.warn(`method does not exist:${e.first.value}`)}return r},n.ternary=function(e,t,s){const n=l.checkArity(e.first,t,s),r=l.checkArity(e.second,t,s),i=l.checkArity(e.third,t,s);return n?r:i},n.valueConverter=function(e,t,s){let n;const i=[];e.args.forEach(e=>{i.push(l.checkArity(e,t,s))});const a=r.ContainerValueConverters.findConverter(e.value);let c;if(a){c=r.ContainerClasses.get(a);try{n=o?c.fromView.apply(t,i):c.toView.apply(t,i)}catch(t){console.warn("value converter failed:"+e.value)}}else console.warn("value converter does not exist:"+e.value);return n},n.evaluate=function(e,t){o=!1;const s=Array.isArray(e)?e:[e],n=[];for(let e=0;e<s.length;e++){const r=l.checkArity(s[e],t,t);n.push(r)}return n.length>1?n.join(""):n[0]},n.traverseOnlyValueConverter=function(e,t,s,n){let i,a=[];t.args.forEach((e,t)=>{t>0&&a.push(l.checkArity(e,s,n))}),a=[e,...a];const c=r.ContainerValueConverters.findConverter(t.value);let h;if(c){h=r.ContainerClasses.get(c);try{i=o?h.fromView.apply(s,a):h.toView.apply(s,a)}catch(e){console.warn("value converter failed:"+t.value)}}else console.warn("value converter does not exist:"+t.value);return i},n.evaluateConverterFromViewOnly=function(e,t,s,n){const r=Array.isArray(e)?e:[e],i=[];o=!0;let a=!1;for(let e=0;e<r.length;e++){let o;switch(!0){case"valueConverter"===r[e].arity:a=!0,o=l.traverseOnlyValueConverter(t,r[e],s,n)}o&&i.push(o)}return i.length>1?i.join(""):a?i[0]:t},n.getBehaviorFunctions=function(e){const t=Array.isArray(e)?e:[e],s=[];for(let e=0;e<t.length;e++){let n;switch(!0){case"behavior"===t[e].arity:n={name:t[e].value,args:t[e].args.map(e=>e.value)}}n&&s.push(n)}return s},n);s.traverseAST=function(e,t){return l.evaluate(e,t)},s.valueConvert=function(e,t,s){return l.evaluateConverterFromViewOnly(e,s,t,t)},s.getBehavior=function(e){return l.getBehaviorFunctions(e)}},e.f[25]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(6);s.getCorrectContext=function(e,t){const s=n.Cache.keyMaps.getCreate(e)[0];let r,i=t;if("string"==typeof s&&"$"!==s[0]&&i&&i.$overrideContext)for(;i.$overrideContext;)(i=i.$overrideContext)&&i.$context&&s in i.$context&&(r=i);return r||t}},e.f[26]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(25),r=e.r(6);s.setValue=function(e,t,s){e=(e=n.getCorrectContext(t,e)).__bindingContext?e.$context:e;const i=r.Cache.keyMaps.getCreate(t);try{let n;i.length>1?i.forEach((t,r)=>{t&&(r===i.length-1?n[t]=s:n=0===r?e[t]:n[t])}):e[t]=s}catch(n){try{console.warn("key not found, rebuilding",t);let n,r={};i.forEach((e,t)=>{e&&(t===i.length-1?0===t?(r[e]={},n=r[e]):n[e]=s:0===t?(r[e]={},n=r[e]):(n[e]={},n=n[e]))});let a=e;i.forEach((e,t)=>{e&&(t===i.length-1?a[e]||(a[e]=r[e]):(a[e]||(a[e]=r[e]),r=r[e],a=a[e]))})}catch(e){console.error("key not found",t)}}}},e.f[27]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(28);s.tokenize=function(e){return new n.Tokenizer(e).start()}},e.f[28]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=new(e.r(29).CharCodes);s.Tokenizer=class{constructor(e){this.baseTokens=[],this.tokens=[],this.chars=[],this.curChar=null,this.curCharNo=0,this.curtype=null,this.expressionOriginal=e,this.isMix=-1!==e.indexOf("${"),this.isMix=!!this.isMix||-1!==e.indexOf("@{"),this.isOutsideExpression=this.isMix,this.expression=this.setStrings(this.expressionOriginal),this.expression=this.removeWhitespaceExpressions(this.expression),this.curChar=this.expression.charCodeAt(this.curCharNo),this.expressionLength=this.expression.length}start(){return this.generateBaseTokens(),this.combineBaseTokens(),this.tokens}setStrings(e){let t=this.isOutsideExpression,s="";t&&(s='"');let n=0;for(let r=0;r<e.length;r++)switch(!0){case t&&e.charCodeAt(r)==="$".charCodeAt(0)&&e.charCodeAt(r+1)==="{".charCodeAt(0):n++,s=s+'"'+e[r],t=!1;break;case!t&&e.charCodeAt(r)==="$".charCodeAt(0)&&e.charCodeAt(r+1)==="{".charCodeAt(0):n++,s+=e[r];break;case t&&e.charCodeAt(r)==="@".charCodeAt(0)&&e.charCodeAt(r+1)==="{".charCodeAt(0):n++,s=s+'"'+e[r],t=!1;break;case!t&&e.charCodeAt(r)==="@".charCodeAt(0)&&e.charCodeAt(r+1)==="{".charCodeAt(0):n++,s+=e[r];break;case!t&&e.charCodeAt(r)==="}".charCodeAt(0):--n?s+=e[r]:(s=s+e[r]+'"',t=!0);break;default:s+=e[r]}return t&&(s+='"'),s}removeWhitespaceExpressions(e){let t,s=!1,r="";for(let i=0;i<e.length;i++)switch(!0){case!s&&n.STRING_START_END.has(e.charCodeAt(i)):r+=e[i],t=e.charCodeAt(i),s=!0;break;case s&&t===e.charCodeAt(i):r+=e[i],s=!1;break;case!s&&n.WHITESPACE.has(e.charCodeAt(i)):break;default:r+=e[i]}return r}parsedAllChars(){return!(this.curCharNo<this.expressionLength)}advanceChar(){this.curCharNo++,this.curChar=this.expression.charCodeAt(this.curCharNo)}addToken(){const e=this.chars.map(e=>String.fromCharCode(e)).join("");this.baseTokens.push({type:this.curtype,value:"number"===this.curtype?parseFloat(e):e}),this.chars=[],this.curtype=null}generateBaseTokens(){let e=this.parsedAllChars();for(;!e;){switch(!0){case null===this.curtype&&n.NUMBER.has(this.curChar):for(this.curtype="number";n.NUMBER.has(this.curChar)&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.addToken();break;case null===this.curtype&&n.STRING_START_END.has(this.curChar):this.curtype="string";const e=this.curChar;for(this.advanceChar();e!==this.curChar&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.advanceChar(),this.addToken();break;case null===this.curtype&&n.OPERATOR.has(this.curChar):this.curtype="operator",this.chars.push(this.curChar),this.advanceChar(),this.addToken();break;default:for(this.curtype="variable";!n.OPERATOR.has(this.curChar)&&!this.parsedAllChars();)this.chars.push(this.curChar),this.advanceChar();this.addToken()}e=this.parsedAllChars()}}advanceNextBaseToken(){this.baseTokenNo++,this.token=this.baseTokens[this.baseTokenNo]}combineBaseTokens(){for(this.tokens=[],this.baseTokenNo=0;this.baseTokenNo<this.baseTokens.length;)switch(this.token=this.baseTokens[this.baseTokenNo],!0){case"variable"===this.token.type:const e=this.tokens[this.tokens.length-1];(!e||e&&"."!==e.value&&"["!==e.value)&&(this.token.root=!0),this.tokens.push(this.token),this.advanceNextBaseToken();break;case"string"===this.token.type:this.tokens.push(this.token),this.advanceNextBaseToken();break;case"operator"===this.token.type:const t=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0,s=this.baseTokens[this.baseTokenNo+2]?this.baseTokens[this.baseTokenNo+2]:void 0;t&&"operator"===t.type&&n.OPERATOR_COMBO.has(this.token.value+t.value)?s&&"operator"===s.type&&n.OPERATOR_COMBO.has(this.token.value+t.value+s.value)?(this.token.value=this.token.value+t.value+s.value,this.tokens.push(this.token),this.baseTokens.splice(this.baseTokenNo,1),this.baseTokens.splice(this.baseTokenNo,1),this.advanceNextBaseToken()):(this.token.value=this.token.value+t.value,this.tokens.push(this.token),this.baseTokens.splice(this.baseTokenNo,1),this.advanceNextBaseToken()):"-"===this.token.value&&"number"===t.type&&this.tokens.length>0&&"operator"===this.tokens[this.tokens.length-1].type?this.token.type="number":"$"!==this.token.value&&"_"!==this.token.value||"variable"!==t.type?(this.tokens.push(this.token),this.advanceNextBaseToken()):(t.value=this.token.value+t.value,this.baseTokens.splice(this.baseTokenNo,1));break;case"number"===this.token.type:let r=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0;for(;r&&"number"===r.type;)this.token.value=this.token.value+r.value,this.token.value=1*this.token.value,this.baseTokens.splice(this.baseTokenNo,1),r=this.baseTokens[this.baseTokenNo+1]?this.baseTokens[this.baseTokenNo+1]:void 0;this.tokens.push(this.token),this.advanceNextBaseToken()}}}},e.f[29]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.CharCodes=class{constructor(){this.WHITESPACE=new Set,[32,10,13].map(e=>this.WHITESPACE.add(e)),this.STRING_START_END=new Set,["'",'"',"`"].map(e=>this.STRING_START_END.add(e.charCodeAt(0))),this.OPERATOR=new Set,["=","!",">","<","+","-","*","/","%","@","^","(",")","|","&","?",":",",","{",,"}","[","]","$","."].map(e=>this.OPERATOR.add(e.charCodeAt(0))),this.NUMBER=new Set,["1","2","3","4","5","6","7","8","9","0"].map(e=>this.NUMBER.add(e.charCodeAt(0))),this.OPERATOR_COMBO=new Set,["===","==","+=","-=","*=","/=","!=","&&","||","!==",">=","<=","${","@{"].map(e=>this.OPERATOR_COMBO.add(e))}}},e.f[30]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(31),r=e.r(33),i=e.r(34),a=new n.AST,o=new r.SymbolContainer;a.addSymbolContainer(o),i.addSymbols(a),s.generateAST=function(e){return a.start(e)}},e.f[31]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(32);s.AST=class{constructor(){this.currentStatement=null,this.currentTokenIndex=0,this.assignment=function(e){const t=this;return this.infixr(e,10,function(e){return"."!==e.id&&"["!==e.id&&"variable"!==e.arity&&e.error("Bad lvalue."),this.first=e,this.second=t.expression(9),this.assignment=!0,this.arity="binary",this})}}start(e){return this.tokens=e,this.currentStatement=null,this.currentTokenIndex=0,this.currentToken=null,this.advance(),this.statements()}addSymbolContainer(e){this.symbolContainer=e}symbol(e,t){let s=this.symbolContainer[e];return t=t||0,s?t>=s.lbp&&(s.lbp=t):((s=new n.SymbolTemplate).id=s.value=e,s.lbp=t,this.symbolContainer[e]=s),s}prefix(e,t){const s=this.symbol(e),n=this;return s.nud=t||function(){return this.first=n.expression(70),this.arity="unary",this},s}infix(e,t,s){const n=this.symbol(e,t),r=this;return n.led=s||function(e){return this.first=e,this.second=r.expression(t),this.arity="binary",this},n}infixr(e,t,s){const n=this.symbol(e,t),r=this;return n.led=s||function(e){return this.first=e,this.second=r.expression(t-1),this.arity="binary",this},n}stmt(e,t){const s=this.symbol(e);return s.std=t,s}statement(){const e=this.currentToken;let t;return e.std?(this.advance(),e.std()):t=this.expression(0)}statements(){let e;for(this.statementsArray=[];"}"!==this.currentToken.id&&"(end)"!==this.currentToken.id;)(e=this.statement())&&this.statementsArray.push(e);return 0===this.statementsArray.length?null:1===this.statementsArray.length?this.statementsArray[0]:this.statementsArray}advance(e){let t,s,n,r;if((n=this.tokens[this.currentTokenIndex])&&e){const t=this.tokens[this.currentTokenIndex+1];if("}"===e&&t&&("|"===t.value||"&"===t.value))return;const s=this.tokens[this.currentTokenIndex-1];if("}"===e&&s&&("|"===s.value||"&"===s.value))return}if(!(this.currentTokenIndex>=this.tokens.length))return this.currentTokenIndex+=1,r=n.value,"variable"===(t=n.type)?(t="variable",s=this.symbolContainer["(variable)"]):"operator"===t?(s=this.symbolContainer[r])||console.warn("Unknown operator.",n):"string"===t||"number"===t?(t="literal",s=this.symbolContainer["(literal)"]):console.warn("Unexpected token.",n),this.currentToken=Object.create(s),this.currentToken.value=r,this.currentToken.arity=t,n.root&&(this.currentToken.root=!0),this.currentToken;this.currentToken=this.symbolContainer["(end)"]}expression(e){let t,s=this.currentToken;this.advance(),t=s.nud();try{for(;e<this.currentToken.lbp;)s=this.currentToken,this.advance(),t=s.led(t)}catch(e){console.warn("parser fail")}return t}}},e.f[32]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SymbolTemplate=class{nud(){console.error("Undefined.")}led(){console.error("Missing operator.")}}},e.f[33]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.SymbolContainer=class{}},e.f[34]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addSymbols=function(e){const t=e;t.symbol("(literal)").nud=function(){return this},t.symbol("(variable)").nud=function(){return this},t.symbol("(function)").nud=function(){return this},t.symbol("(end)"),t.symbol("(name)"),t.symbol(":"),t.symbol(";"),t.symbol(")"),t.symbol("]"),t.symbol("}"),t.symbol(","),t.infix("+",50),t.infix("-",50),t.infix("*",60),t.infix("%",60),t.infix("/",60),t.infix("===",40),t.infix("!==",40),t.infix("==",40),t.infix("!=",40),t.infix("<",40),t.infix("<=",40),t.infix(">",40),t.infix("^",70),t.infix(">=",40),t.infix("?",20,function(e){return this.first=e,this.second=t.expression(0),t.advance(":"),this.third=t.expression(0),this.arity="ternary",this}),t.infix(".",80,function(e){return this.first=e,"variable"!==t.currentToken.arity&&t.currentToken.error("Expected a property name."),t.currentToken.arity="variable",this.second=t.currentToken,this.arity="binary",this.isObject=!0,t.advance(),this}),t.infix("[",80,function(e){return this.first=e,this.second=t.expression(0),this.arity="binary",this.isObject=!0,this.contextReset=!0,t.advance("]"),this}),t.infix("(",80,function(e){if(!e)return t.expression(0);const s=[];if(this.arity="binary",this.isFunction=!0,this.first=e,this.second=s,")"!==t.currentToken.id)for(;s.push(t.expression(0)),","===t.currentToken.id;)t.advance(",");return t.advance(")"),this}),t.prefix("-"),t.prefix("!"),t.prefix("(",function(){const e=t.expression(0);return"|"===t.currentToken.value&&(t.valueConverter=t.expression(0)),"&"===t.currentToken.value?t.behavior=t.expression(0):t.advance(")"),e}),t.prefix("{",function(){const e=[];if("}"!==t.currentToken.value)for(;;){const s=t.currentToken;t.advance(),t.advance(":");const n=t.expression(0);if(n.key=s.value,e.push(n),","!==t.currentToken.value)break;t.advance(",")}return t.advance("}"),this.first=e,this.arity="unary",this}),t.assignment("="),t.assignment("+="),t.assignment("-="),t.assignment("*="),t.assignment("/="),t.prefix("|",function(){this.arity="valueConverter";const e=t.expression(0);this.value=e.value;const s=[];for(this.args=s;":"===t.currentToken.id;)t.advance(","),s.push(t.expression(0));return this.args.unshift(t.statementsArray.pop()),t.currentStatement=this,this}),t.prefix("&",function(){this.arity="behavior";const e=t.expression(0);this.value=e.value;const s=[];for(this.args=s;":"===t.currentToken.id;)t.advance(","),s.push(t.expression(0));return this}),t.prefix("${",function(){return this.e=t.expression(0),t.advance("}"),this.e}),t.prefix("@{",function(){const e=t.expression(0);return t.advance("}"),e}),t.infixr("&&",30),t.infixr("||",30),t.symbol(";").nud=function(){return null}}},e.f[35]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(27),r=e.r(30),i=e.r(36),a=e.r(6),o=e.r(38),l=e.r(25);s.createBindingExpression=function(e,t,s){let c,h=[];if(e){if(s.attributesValues)h=s.attributesValues;else{let i,u=[],d=[];if(a.Cache.expressionMap.has(e)){const t=a.Cache.expressionMap.get(e);c=t.ast,i=t.tokens,u=t.tokenValues,d=t.tokenObject}else{i=n.tokenize(e),c=r.generateAST(i);let t=null,s=[];for(let e=0;e<i.length;e++){const n=i[e];"variable"===n.type?t?(t+=n.value,s.push(n.value)):(t=n.value,s.push(n.value)):"operator"===n.type&&"."===n.value?t&&(t+="."):"operator"===n.type&&"["===n.value&&i[e+2]&&"operator"===i[e+2].type&&"]"===i[e+2].value?(t&&(t=t+"["+i[e+1].value+"]"),e+=2):t&&(u.push(t),t=null,d.push(s),s=[])}t&&(u.push(t),d.push(s),s=[],t=null),a.Cache.expressionMap.set(e,{ast:c,tokens:i,tokenValues:u,tokenObject:d})}u.forEach(e=>{const s=l.getCorrectContext(e,t);"string"==typeof e&&"$"!==e[0]&&s&&s.__bindingContext&&s.$context.__proto__&&s.$context.__proto__[o.CONSTANTS.META_COMPUTEDFROM]&&s.$context.__proto__[o.CONSTANTS.META_COMPUTEDFROM][e]?s.$context.__proto__[o.CONSTANTS.META_COMPUTEDFROM][e].attributes.forEach(e=>{-1===h.indexOf(e)&&h.push(e)}):-1===h.indexOf(e)&&h.push(e)}),s.setAst(c)}for(let e=0;e<h.length;e++){const n=l.getCorrectContext(h[e],t);i.ClassPropertyObserverCreator.create(n||t,h[e],s)}s.init(),s.attributesValues=h}},s.removeBindingExpression=function(e,t,s){if(e&&s.attributesValues){const e=s.attributesValues;for(let n=0;n<e.length;n++){const r=l.getCorrectContext(e[n],t);i.ClassPropertyObserverCreator.remove(r||t,e[n],s)}}}},e.f[36]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(37),r=e.r(6),i=class{};class a{static create(e,t,s){this.classRef=e&&e.$context,this.keyParts=r.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],a.processKeys(s),a.clear()}static remove(e,t,s){this.classRef=e&&e.$context,this.keyParts=r.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts&&this.keyParts[this.keyNo],a.removeKeys(s),a.clear()}static clear(){this.classRef=null,this.keyParts=null,this.keyNo=null,this.keyBlock=null}static nextKey(){this.keyNo++,this.keyBlock=this.keyParts[this.keyNo]}static processKeys(e){this.classRef.__observer||Object.defineProperty(this.classRef,"__observer",{writable:!0,configurable:!0,value:new i}),this.classRef.__observer[this.keyBlock]?(this.classRef.__observer[this.keyBlock].subscribe(e),this.classRef.__observer[this.keyBlock].observe()):(this.classRef.__observer[this.keyBlock]=new n.ClassPropertyObserver(this.classRef,this.keyBlock),this.classRef.__observer[this.keyBlock].subscribe(e)),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.processKeys(e))}static removeKeys(e){this.classRef&&this.classRef.__observer&&this.classRef.__observer[this.keyBlock]&&this.classRef.__observer[this.keyBlock].unsubscribe(e),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.removeKeys(e))}}s.ClassPropertyObserverCreator=a},e.f[37]=function(e,t){let s,n,r,i,a;Object.defineProperty(t,"__esModule",{value:!0});t.ClassPropertyObserver=class{constructor(e,t){this._class=e,this.key=t,this.setterBind=this.setter.bind(this),this.getterBind=this.getter.bind(this),"object"==typeof this._class&&(this.value=this._class[this.key],this.observe())}unsubscribe(e){this.c1===e&&(this.c1=null),this.c2===e&&(this.c2=null),this.c3===e&&(this.c3=null),this.c4===e&&(this.c4=null),this.c5===e&&(this.c5=null),this.callers&&-1!==this.callers.indexOf(e)&&this.callers.splice(this.callers.indexOf(e),1)}subscribe(e){this.c1!==e&&this.c2!==e&&this.c3!==e&&this.c4!==e&&this.c5!==e&&(this.c1?this.c2?this.c3?this.c4?this.c5?(this.callers||(this.callers=[]),-1===this.callers.indexOf(e)&&this.callers.push(e)):this.c5=e:this.c4=e:this.c3=e:this.c2=e:this.c1=e)}forceUpdate(){if(this.c1&&(s=this.c1,this.c1=void 0,s.update()),this.c2&&(n=this.c2,this.c2=void 0,n.update()),this.c3&&(r=this.c3,this.c3=void 0,r.update()),this.c4&&(i=this.c4,this.c4=void 0,i.update()),this.c5&&(a=this.c5,this.c5=void 0,a.update()),this.callers&&this.callers.length>0){const e=this.callers.slice();this.callers=[];for(let t=0;t<e.length;t++)e[t].update()}}observe(){const e=Reflect.getOwnPropertyDescriptor(this._class.__proto__,this.key);let t=null;e&&(t=e.get||e.set)&&console.warn("skipping dirty observer - no-dirty  //todo remove this message"),null===t&&(Reflect.defineProperty(this._class,this.key,{configurable:!0,enumerable:!0,set:this.setterBind,get:this.getterBind})||console.warn("This key could not be observed:"+this.key))}setter(e){if(e!==this.value&&("object"==typeof e&&(e&&e.__observer&&(e.__observer=null),e&&e.__observerArray&&(e.__observerArray=null)),this.value=e,this.c1&&(s=this.c1,this.c1=void 0,s.update()),this.c2&&(n=this.c2,this.c2=void 0,n.update()),this.c3&&(r=this.c3,this.c3=void 0,r.update()),this.c4&&(i=this.c4,this.c4=void 0,i.update()),this.c5&&(a=this.c5,this.c5=void 0,a.update()),this.callers&&this.callers.length>0)){const e=this.callers.slice();this.callers=[];for(let t=0;t<e.length;t++)e[t].update()}}getter(){return this.value}}},e.f[38]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(39);s.IElement=n.IElement;var r=e.r(40);s.IAttribute=r.IAttribute;var i=e.r(41);s.IControllerArray=i.IControllerArray;var a=e.r(42);s.IControllerObject=a.IControllerObject;var o=e.r(43);s.CONSTANTS=o.CONSTANTS;var l=e.r(46);s.IFetchConfig=l.IFetchConfig;var c=e.r(47);s.IBindingContext=c.IBindingContext},e.f[39]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[40]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[41]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[42]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[43]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.META_BINDABLE="__MF__bindable"]="META_BINDABLE",e[e.META_COMPUTEDFROM="__MF__computed_from"]="META_COMPUTEDFROM",e[e.CONTAINER_FREE="__MF__containerless"]="CONTAINER_FREE",e[e.SHADOW_DOM="__MF__shadowdom"]="SHADOW_DOM"}(t.CONSTANTS||(t.CONSTANTS={}))},e.f[46]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[47]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0})},e.f[49]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(50);s.subscribeClassProperty=function(e,t,s){const r=new n.PropertyObserverHandler(t,s);r.bind(e),s.caller=r}},e.f[50]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(24),r=e.r(35),i=e.r(6),a=e.r(11);s.PropertyObserverHandler=class{constructor(e,t){this.value=void 0,this.isWaiting=!1,this.isNew=!0,this.expression=e,this.listener=t,this.queue=a.ContainerClasses.get(i.Queue)}bind(e){this.observing=!0,this.context=e,r.createBindingExpression(this.expression,this.context,this)}setAst(e){this.ast=e,this.curBehavior||this.connectBehavior()}init(){if(this.isNew){this.isNew=!1;const e=this.value,t=n.traverseAST(this.ast,this.context);this.value=t,this.listenerCall(t,e),this.isNew=!1}}connectBehavior(){const e=n.getBehavior(this.ast);e&&e.forEach(e=>{if("signal"===e.name){const t=a.ContainerBehavior.findBehavior(e.name);t&&(this.curBehavior=new t(this,e.args))}})}update(){this.observing&&(this.isWaiting||(this.isWaiting=!0,this.queue.add(this)),this.bind(this.context))}listenerCall(e,t){this.listener&&this.listener.call(e,t)}call(e){const t=n.traverseAST(this.ast,this.context),s=this.value;this.value=t,this.listenerCall(t,s),this.isWaiting=!1,e()}unbind(){this.observing&&r.removeBindingExpression(this.expression,this.context,this),this.listener.caller=null,this.observing=!1,this.context=null,this.listener=null,this.value=null}}},e.f[51]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unSubscribeClassProperty=function(e,t){t.caller&&t.caller.unbind()}},e.f[52]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(24),r=e.r(27),i=e.r(30),a=e.r(6);s.evaluateExpression=function(e,t){if(e){let s;if(a.Cache.astMap.has(e))s=a.Cache.astMap.get(e);else{const t=r.tokenize(e);s=i.generateAST(t),a.Cache.astMap.set(e,s)}return n.traverseAST(s,t)}return""}},e.f[53]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(54);s.subscribeClassArray=function(e,t,s){const r=new n.ArrayObserverHandler(t,s);r.bind(e),s.caller=r}},e.f[54]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(55),r=e.r(6),i=e.r(11);s.ArrayObserverHandler=class{constructor(e,t){this.expression=e,this.listener=t,this.isWaiting=!1,this.data=void 0,this.expression=e,this.listener=t,this.isWaiting=null,this.queue=i.ContainerClasses.get(r.Queue)}bind(e){this.observing=!0,this.context=e,n.ClassArrayObserverCreator.create(this.context,this.expression,this)}update(e){this.data=e,this.observing&&(this.isWaiting||(this.isWaiting=!0,this.queue.add(this)),this.bind(this.context))}call(e){const t=this.data;this.data=null,this.listener&&this.listener.call(t),this.isWaiting=!1,e()}unbind(){this.observing&&n.ClassArrayObserverCreator.remove(this.context,this.expression,this),this.listener.caller=null,this.listener=null,this.observing=!1,this.context=null,this.data=null,this.expression=null}}},e.f[55]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(56),r=e.r(6),i=class{};class a{static create(e,t,s){this.classRef=e&&e.$context,this.keyParts=r.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],a.processKeys(s),a.clear()}static remove(e,t,s){this.classRef=e.$context,this.keyParts=r.Cache.keyMaps.getCreate(t),this.keyNo=0,this.keyBlock=this.keyParts[this.keyNo],a.removeKeys(s),a.clear()}static clear(){this.classRef=null,this.keyParts=null,this.keyNo=null,this.keyBlock=null}static nextKey(){this.keyNo++,this.keyBlock=this.keyParts[this.keyNo]}static processKeys(e){this.classRef.__observerArray||Object.defineProperty(this.classRef,"__observerArray",{writable:!0,configurable:!0,value:new i}),this.classRef.__observerArray[this.keyBlock]?(this.classRef.__observerArray[this.keyBlock].subscribe(e),this.classRef.__observerArray[this.keyBlock].observe()):(this.classRef.__observerArray[this.keyBlock]=new n.ClassArrayObserver(this.classRef,this.keyBlock),this.classRef.__observerArray[this.keyBlock].subscribe(e)),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.processKeys(e))}static removeKeys(e){this.classRef.__observerArray&&this.classRef.__observerArray[this.keyBlock]&&this.classRef.__observerArray[this.keyBlock].unsubscribe(e),this.keyNo!==this.keyParts.length-1&&this.keyParts.length>1&&(this.classRef&&(this.classRef=this.classRef[this.keyBlock]),this.nextKey(),this.classRef&&this.removeKeys(e))}}s.ClassArrayObserverCreator=a},e.f[56]=function(e,t){let s,n,r,i,a;Object.defineProperty(t,"__esModule",{value:!0});["pop","push","reverse","shift","sort","splice","unshift","sort"].forEach(e=>{const t=Array.prototype[e];Array.prototype[e]=function(){const s=t.apply(this,arguments);return this.__array_observer__class&&this.__array_observer__class.check(arguments,e),s}});t.ClassArrayObserver=class{constructor(e,t){this._class=e,this.key=t,this.internalEvents=[],this.timer=null,"object"==typeof this._class&&this.observe()}subscribe(e){this.c1!==e&&this.c2!==e&&this.c3!==e&&this.c4!==e&&this.c5!==e&&(this.c1?this.c2?this.c3?this.c4?this.c5?(this.callers||(this.callers=[]),-1===this.callers.indexOf(e)&&this.callers.push(e)):this.c5=e:this.c4=e:this.c3=e:this.c2=e:this.c1=e)}unsubscribe(e){this.c1===e&&(this.c1=null),this.c2===e&&(this.c2=null),this.c3===e&&(this.c3=null),this.c4===e&&(this.c4=null),this.c5===e&&(this.c5=null),this.callers&&-1!==this.callers.indexOf(e)&&this.callers.splice(this.callers.indexOf(e),1)}check(e,t){clearTimeout(this.timer),this.timer=0,this.internalEvents.push({event:t,args:e}),this.timer=setTimeout(()=>{if(this.c1&&(s=this.c1,this.c1=void 0,s.update(this.internalEvents)),this.c2&&(n=this.c2,this.c2=void 0,n.update(this.internalEvents)),this.c3&&(r=this.c3,this.c3=void 0,r.update(this.internalEvents)),this.c4&&(i=this.c4,this.c4=void 0,i.update(this.internalEvents)),this.c5&&(a=this.c5,this.c5=void 0,a.update(this.internalEvents)),this.callers&&this.callers.length>0){const e=this.callers.slice();this.callers=[],e.forEach(e=>{e.update(this.internalEvents)})}this.internalEvents=null,this.internalEvents=[],this._class[this.key]&&this._class[this.key].__observer&&this._class[this.key].__observer.length&&this._class[this.key].__observer.length.forceUpdate()},0)}observe(){this._class[this.key]&&Array.isArray(this._class[this.key])&&Object.defineProperty(this._class[this.key],"__array_observer__class",{writable:!0,configurable:!0,value:this})}}},e.f[57]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.unSubscribeClassArray=function(e,t){t.caller&&t.caller.unbind()}},e.f[58]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(38),r=e.r(51);s.unSubscribeClassMetaBinding=function(e){const t=e.__proto__[n.CONSTANTS.META_BINDABLE];if(t){const s=Object.keys(t);for(const n of s){const s=e.__metaBinding[n],i=s.options.subscribeInternal;i&&r.unSubscribeClassProperty(e.$bindingContext,i);const a=s.options.subscribeExternal;if(e.$bindingContext&&a&&e.$element){const s=e.$element,i=`${t[n].options.attribute}.bind`;s.getAttribute(i)&&r.unSubscribeClassProperty(e.$bindingContext,a)}}}}},e.f[59]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(49),r=e.r(23),i=e.r(38),a=e.r(60),o=class{constructor(e,t,s){this._class=e,this.key=t,this.meta=s}call(e,t){if(t!==e){const s=this.key,n=this._class,r=this.meta;n.$bindingContext&&s in n.$bindingContext.$context&&n.$bindingContext.$context[s]!==e&&(n.$bindingContext.$context[s]=e),n[`${s}Changed`]&&n[`${s}Changed`](e,t),r[s].options.changeHandler&&n[r[s].options.changeHandler](s,e,t)}}};s.subscribeClassMetaBinding=function(e){const t=e.__proto__[i.CONSTANTS.META_BINDABLE];if(t){const s=Object.keys(t);for(const i of s){e.__metaBinding||(e.__metaBinding={}),e.__metaBinding[i]||(e.__metaBinding[i]={},e.__metaBinding[i].key=i,e.__metaBinding[i].options={});const l=e.__metaBinding[i],c=new o(e,i,t);if(n.subscribeClassProperty(a.createBindingContext(e),i,c),l.options.subscribeInternal=c,!0===t[i].observableOnly);else if(e.$attributes&&!e.$attribute){if(e.$element&&e.$bindingContext){const s=e.$element;let a=`${t[i].options.attribute}.bind`,o=s.getAttribute(a);if(o){const t=Object.create({call:(t,s)=>{s!==t&&(e[i]=t)}});n.subscribeClassProperty(e.$bindingContext,o,t),l.options.subscribeExternal=t}else if(a=`${t[i].options.attribute}`,o=s.getAttribute(a))if(-1!==o.indexOf("${")||-1!==o.indexOf("@{")){const t=r.BindingEngine.tokenizeParseAndTraverseAST(o,e.$bindingContext);t&&(e[i]=t)}else e[i]=o}}else if(e.$element&&e.$bindingContext)if(1===s.length&&"value"===i){const t=e.$element,s=e.$attribute.name,a=s.indexOf(".bind");let o=t.getAttribute(s);if(-1!==a){const t=Object.create({call:(t,s)=>{s!==t&&(e[i]=t)}});n.subscribeClassProperty(e.$bindingContext,o,t),l.options.subscribeExternal=t}else if(o=t.getAttribute(s))if(-1!==o.indexOf("${")||-1!==o.indexOf("@{")){const t=r.BindingEngine.tokenizeParseAndTraverseAST(o,e.$bindingContext);t&&(e[i]=t)}else e[i]=o}else{const s=e.$element,a=e.$attribute.name;let o=`${t[i].options.attribute}.bind`;const c=s.getAttribute(a)?s.getAttribute(a).split(";"):null;if(c){let s;if(c.forEach(e=>{const t=e.split(":");t&&t[0].trim()===o&&(s=t[1])}),s){const t=Object.create({call:(t,s)=>{s!==t&&(e[i]=t)}});n.subscribeClassProperty(e.$bindingContext,s,t),l.options.subscribeExternal=t}else{let s;if(o=`${t[i].options.attribute}`,c.forEach(e=>{const t=e.split(":");t&&t[0].trim()===o&&(s=t[1])}),s)if(-1!==s.indexOf("${")||-1!==s.indexOf("@{")){const t=r.BindingEngine.tokenizeParseAndTraverseAST(s,e.$bindingContext);t&&(e[i]=t)}else e[i]=s}}}}}}},e.f[60]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e,t,s){this.$context=e,this.$overrideContext=t,this.$event=s,this.__bindingContext=!0}}t.createBindingContext=function(e,t,n){return new s(e,t,n)}},e.f[61]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(38),r=e.r(62),i=e.r(21),a=e.r(11),o=e.r(22),l=e.r(6),c=e.r(6);s.ElementController=class{constructor(e,t,s,r,o,h){this.bindingContext=e,this.htmlNode=t,this._process=!0,this.internalAttached=!1,this.logger=l.Logger.getLogger(t.tagName,"element"),this.templateString=o,s?this.logger.log("constructor - using supplied class"):this.logger.log("constructor"),this.classInstance=s||a.ContainerClasses.get(r),this.viewController=new i.ViewController(t,h),this.viewController.addElement(this),this.classInstance.__proto__[n.CONSTANTS.CONTAINER_FREE]&&(this.anchorNode=c.DOM.document.createComment("containerless-anchor"),this.elements=[]),this.classInstance.__proto__[n.CONSTANTS.SHADOW_DOM]&&(this.shadowDom=!0)}searchForInstance(e){return this.viewController.searchForInstance(e)}getView(){return this.viewController}init(){if(this.classInstance.$element=this.htmlNode,this.classInstance.$bindingContext=this.bindingContext,this.classInstance.$attributes=this.htmlNode.attributes,this.classInstance.$controller=this,this.shadowDom)if(this.classInstance.__proto__[n.CONSTANTS.CONTAINER_FREE])console.warn("containerfree can not be used with showdow dom");else{const e=this.classInstance.__proto__[n.CONSTANTS.SHADOW_DOM].mode;try{this.htmlNode=this.classInstance.$shadowdom,this.classInstance.$shadowdom=this.htmlNode.attachShadow({mode:e})}catch(e){console.warn("error adding showdow dom:",e)}}o.BindingEngine.subscribeClassMetaBinding(this.classInstance);const e=this.loadTemplate();return Promise.resolve(e).then(e=>{this.templateString=this.templateString||e||"<template></template>";let t=[];if(this.template=r.View.createTemplate(this.templateString),this.create(),this.processContent(),this._process&&(t=r.View.parseTemplate(this.template,o.createBindingContext(this.classInstance),this.viewController)),this._process){for(;this.template.childNodes.length;)this.anchorNode?(this.htmlNode.parentNode.insertBefore(this.anchorNode,this.htmlNode.nextSibling),this.elements.push(this.template.firstChild),this.anchorNode.parentNode.insertBefore(this.template.firstChild,this.anchorNode.nextSibling)):this.htmlNode.appendChild(this.template.firstChild);this.anchorNode&&this.htmlNode.parentNode.removeChild(this.htmlNode)}t.reverse(),this.contentProcessed(t),t.forEach(e=>{e.attached&&e.attached()}),this.internalAttached=!0,this.attached()}),this}loadTemplate(){return this.logger.log("loadTemplate"),this.templateString?this.templateString:this.classInstance.loadTemplate&&this.classInstance.loadTemplate()}create(){this.logger.log("create"),this.classInstance.created&&this.classInstance.created()}processContent(){if(this.logger.log("processContent"),this.classInstance.processContent)this._process=this.classInstance.processContent(this.template);else for(;this.htmlNode.childNodes[0];)this.template.appendChild(this.htmlNode.childNodes[0])}contentProcessed(e){this.logger.log("contentProcessed"),this.classInstance.contentProcessed&&this._process&&this.classInstance.contentProcessed(e)}attached(){this.internalAttached&&(this.classInstance.$element.parentNode?this.logger.log("attached"):this.logger.log("attached","missing parent node")),this.classInstance.attached&&this.internalAttached&&(this.internalAttached=!1,this.classInstance.attached())}detached(){this.logger.log("detached"),this.classInstance.detached&&this.classInstance.detached(),o.BindingEngine.unSubscribeClassMetaBinding(this.classInstance),this.anchorNode&&(this.elements.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)}),this.anchorNode.parentNode&&this.anchorNode.parentNode.removeChild(this.anchorNode)),this.anchorNode=null,this.elements=null,this.bindingContext=null,this.htmlNode=null,this.classInstance.$element=null,this.classInstance.$bindingContext=null,this.classInstance.$attributes=null,this.classInstance.$controller=null,this.classInstance=null,this.viewController=null}}},e.f[62]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11),r=e.r(11),i=e.r(6),a=e.r(20),o=e.r(61),l=e.r(63),c=e.r(6);class h{static parseAndCreateElement(e,t,s,n,r){return new o.ElementController(s,t,e,null,n,r).init()}static cleanTemplate(e){const t=e=>{for(let s=0;s<e.childNodes.length;s++){let n=e.childNodes[s];8===n.nodeType||3===n.nodeType&&!/\S/.test(n.nodeValue)?(e.removeChild(n),s--):1===n.nodeType&&t(n),n=null}};t(e)}static createTemplate(e){let t;if(i.Cache.templateMap.has(e))t=i.Cache.templateMap.get(e);else{const s=c.DOM.document.createElement("div");s.innerHTML=e.default||e;const n=s.firstElementChild;if(!n.content)for(n.content=c.DOM.document.createDocumentFragment();n.childNodes[0];)n.content.appendChild(n.childNodes[0]);t=c.DOM.document.createElement("mf-template"),h.cleanTemplate(n.content),t.appendChild(n.content),i.Cache.templateMap.set(e,t)}const s=t.cloneNode(!0);return t=null,s}static attachTemplate(e,t,s){const n=[];for(;e.firstChild;)n.push(e.firstChild),t.appendChild(e.firstChild);return s.forEach(e=>{e.attached&&e.attached()}),n}static clearViews(e,t){t&&t.clearView(),e.forEach(e=>{e.parentNode&&e.parentNode.removeChild(e)})}static parseTemplate(e,t,s){const n=h.createTemplateCache(e);return h.parseTemplateCache(e,t,s,n)}static parseTemplateCache(e,t,s,n){const r=[],i=n.slice().reverse(),c=function(e){for(let n=0;n<e.childNodes.length;n++){const h=e.childNodes[n],u=i.pop();switch(u.attributes.forEach(e=>{let n,i;switch(e.type){case"controller":i=h.getAttributeNode(e.name),n=new a.AttributeController(t,h,i,e.container,s),r.push(n);break;case"value":i=h.getAttributeNode(e.name),n=new l.InterpolateController(t,i,s,!0),r.push(n);break;case"attribute":i=h.getAttributeNode(e.name),n=new a.AttributeController(t,h,i,e.container,s),r.push(n)}}),u.type){case"element":const e=new o.ElementController(t,h,null,u.container,null,s);r.push(e);break;case"text":const n=new l.InterpolateController(t,h,s,!1);r.push(n);break;default:u.gotoChild&&c(h)}}};return c({childNodes:[e]}),r.forEach(e=>{e.init()}),r}static createTemplateCache(e){const t=[],s=function(e){for(let i=0;i<e.childNodes.length;i++){const a=e.childNodes[i],o={type:"blank",attributes:[],container:null,gotoChild:!1};t.push(o);let l=!1;if(a.getAttribute&&["repeat.for","if.bind"].forEach(e=>{if(!l){const t=a.getAttributeNode(e);if(t){l=!0;const s=r.ContainerAttributes.findAttribute(t.name);o.attributes.push({type:"controller",name:e,container:s})}}}),!l){const e=[],t=a.attributes&&a.attributes.length||0;for(let s=0;s<t;s++)e.push(a.attributes[s]);for(let t=0;t<e.length;t++){const s=e[t];let n=r.ContainerAttributes.findAttribute(s.name);!n&&s.name&&!(n=r.ContainerAttributes.findAttribute(s.name.replace(".bind","")))&&s.name&&(n=r.ContainerAttributes.findAttribute(h.getAttributeExpression(s.name))),n?o.attributes.push({type:"attribute",name:s.name,container:n}):-1===s.value.indexOf("${")&&-1===s.value.indexOf("@{")||-1===s.name.indexOf(".bind")&&o.attributes.push({type:"value",name:s.name,container:null})}}if(!l)if(1===a.nodeType){const e=n.ContainerElements.findElement(a.localName);e?(o.type="element",o.container=e):a.childNodes&&(o.gotoChild=!0,s(a))}else a.textContent&&(-1===a.textContent.indexOf("${")&&-1===a.textContent.indexOf("@{")||(o.type="text"))}};return s({childNodes:[e]}),t}static getAttributeExpression(e){const t=-1!==e.indexOf("@")?e.indexOf("@"):0,s=-1!==e.lastIndexOf(".")?e.lastIndexOf("."):e.length,n=e.substring(t,s);return e.replace(n,"#VARIABLE#")}}s.View=h},e.f[63]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(22),r=e.r(6),i=class{constructor(e){this.firstRun=!0,this.name="Interpolate",this.node=e}call(e,t){(t!==e||this.firstRun)&&(this.firstRun=!1,2===this.node.nodeType?this.node.value=e:this.node.data=e)}};s.InterpolateController=class{constructor(e,t,s,n){this.bindingContext=e,this.htmlNode=t,this.isAttibuteNode=!1,t.data||(this.isAttibuteNode=!0),this.logger=r.Logger.getLogger(this.isAttibuteNode?t.value.trim():t.data.trim(),"interpolate"),s.addInterpolate(this)}init(){this.logger.log("init"),this.subscribeInternal=new i(this.htmlNode),n.BindingEngine.subscribeClassProperty(this.bindingContext,this.isAttibuteNode?this.htmlNode.value:this.htmlNode.data,this.subscribeInternal)}attached(){this.logger.log("attached")}detached(){this.logger.log("detached"),n.BindingEngine.unSubscribeClassProperty(this.bindingContext,this.subscribeInternal),this.subscribeInternal=null,this.bindingContext=null,this.htmlNode=null}}},e.f[64]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11),r=e.r(20),i=e.r(63);s.addAttribute=function(e,t,s,a,o,l){l=void 0===l||l;const c=[];if(e.getAttribute){e.setAttribute(s,a);const h=e.getAttributeNode(s);let u=n.ContainerAttributes.findAttribute(h.name);if(!u&&h.name&&!(u=n.ContainerAttributes.findAttribute(h.name.replace(".bind","")))&&h.name&&(u=n.ContainerAttributes.findAttribute(h.name.replace(/([@a-z]\w+\.)/g,"#VARIABLE#"))),u){const s=new r.AttributeController(t,e,h,u,o);s.init(),s&&(l&&s.attached(),c.push(s))}else if((-1!==h.value.indexOf("${")||-1!==h.value.indexOf("@{"))&&-1===h.name.indexOf(".bind")){const e=new i.InterpolateController(t,h,o,!0);e.init(),l&&e.attached(),c.push(e)}}return c}},e.f[65]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(66);s.SignalBehavior=n.SignalBehavior;var r=e.r(79);s.ThrottleBehavior=r.ThrottleBehavior;var i=e.r(80);s.DebounceBehavior=i.DebounceBehavior;var a=e.r(81);s.TriggerBehavior=a.TriggerBehavior},e.f[66]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(s,"__esModule",{value:!0});const i=e.r(67),a=e.r(6),o=e.r(11).ContainerClasses.get(a.EventAggregator);let l=class{constructor(e,t){this.name=t[0]||"undefined",e.listener&&"Interpolate"===e.listener.name&&(e.unbindBackup=e.unbind,e.unbind=function(){this.unbindBackup()},o.subscribe("signal-"+this.name,function(){e.update()}))}};l=n([i.behavior("signal"),r("design:paramtypes",[Object,Object])],l),s.SignalBehavior=l},e.f[67]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(68);s.inject=n.inject;var r=e.r(69);s.transient=r.transient;var i=e.r(70);s.customAttribute=i.customAttribute;var a=e.r(71);s.customElement=a.customElement;var o=e.r(72);s.bindable=o.bindable;var l=e.r(73);s.observable=l.observable;var c=e.r(74);s.computedFrom=c.computedFrom;var h=e.r(75);s.valueConverter=h.valueConverter;var u=e.r(76);s.behavior=u.behavior;var d=e.r(77);s.containerfree=d.containerfree;var p=e.r(78);s.shadowdom=p.shadowdom},e.f[68]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11);s.inject=function(...e){return function(t){n.ContainerClasses.setDep(t,e)}}},e.f[69]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11);s.transient=function(e){n.ContainerClasses.regTransient(e)}},e.f[70]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11),r=e.r(11);s.customAttribute=function(e){return function(t){n.ContainerClasses.regTransient(t),r.ContainerAttributes.regAttribute(t,e)}}},e.f[71]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11),r=e.r(11);s.customElement=function(e){return function(t){n.ContainerClasses.regTransient(t),r.ContainerElements.regElement(t,e)}}},e.f[72]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(38);s.bindable=function(e){let t;return t=e,function(s,r){s[n.CONSTANTS.META_BINDABLE]||(s[n.CONSTANTS.META_BINDABLE]={});const i=r.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\s+/g,"-").toLowerCase();e&&(e.attribute||(e.attribute=i)),s[n.CONSTANTS.META_BINDABLE][r]||(s[n.CONSTANTS.META_BINDABLE][r]={key:r,options:t||{attribute:i}})}}},e.f[73]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(38);s.observable=function(e){let t;return t=e,function(s,r){s[n.CONSTANTS.META_BINDABLE]||(s[n.CONSTANTS.META_BINDABLE]={}),e&&(e.attribute||(e.attribute=null)),s[n.CONSTANTS.META_BINDABLE][r]||(s[n.CONSTANTS.META_BINDABLE][r]={key:r,observableOnly:!0,options:t||{attribute:null}})}}},e.f[74]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(38);s.computedFrom=function(...e){let t;return t=e,function(e,s){e[n.CONSTANTS.META_COMPUTEDFROM]||(e[n.CONSTANTS.META_COMPUTEDFROM]={}),e[n.CONSTANTS.META_COMPUTEDFROM][s]||(e[n.CONSTANTS.META_COMPUTEDFROM][s]={key:s,attributes:t||{attributes:[]}})}}},e.f[75]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11),r=e.r(11);s.valueConverter=function(e){return function(t){n.ContainerClasses.regTransient(t),r.ContainerValueConverters.regConverter(t,e)}}},e.f[76]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(11),r=e.r(11);s.behavior=function(e){return function(t){n.ContainerClasses.regTransient(t),r.ContainerBehavior.regBehavior(t,e)}}},e.f[77]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(38);s.containerfree=function(){return function(e){e.prototype[n.CONSTANTS.CONTAINER_FREE]=!0}}},e.f[78]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(38);s.shadowdom=function(e){let t;return t=e,function(s){s.prototype[n.CONSTANTS.SHADOW_DOM]||(s.prototype[n.CONSTANTS.SHADOW_DOM]={});let r=t&&e.mode;"open"!==r&&(r="closed"),s.prototype[n.CONSTANTS.SHADOW_DOM]={mode:r}}}},e.f[79]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(s,"__esModule",{value:!0});let i=class{constructor(e,t){const s=t[0]||100;e.eventHandlerBinded&&(e.eventHandlerBindedBackup=e.eventHandlerBinded,e.detachedBackup=e.detached,e.detached=function(){e.detachedBackup()},e.eventHandlerBinded=function(){this.timerBehavior||(this.timerBehavior=setTimeout(()=>{e.eventHandlerBindedBackup(),this.timerBehavior=null},s))}.bind(e))}};i=n([e.r(67).behavior("throttle"),r("design:paramtypes",[Object,Object])],i),s.ThrottleBehavior=i},e.f[80]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(s,"__esModule",{value:!0});let i=class{constructor(e,t){const s=t[0]||100;e.eventHandlerBinded&&(e.eventHandlerBindedBackup=e.eventHandlerBinded,e.detachedBackup=e.detached,e.detached=function(){e.detachedBackup()},e.eventHandlerBinded=function(){this.timerBehavior&&(clearTimeout(this.timerBehavior),this.timerBehavior=null),this.timerBehavior=setTimeout(()=>{e.eventHandlerBindedBackup()},s)}.bind(e))}};i=n([e.r(67).behavior("debounce"),r("design:paramtypes",[Object,Object])],i),s.DebounceBehavior=i},e.f[81]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(s,"__esModule",{value:!0});let i=class{constructor(e,t){const s=t;e.eventHandlerBinded&&"trigger"in e&&s&&(e.trigger=s)}};i=n([e.r(67).behavior("updateTrigger"),r("design:paramtypes",[Object,Object])],i),s.TriggerBehavior=i},e.f[82]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});var n=e.r(83);s.IfAttribute=n.IfAttribute;var r=e.r(84);s.ValueAttribute=r.ValueAttribute;var i=e.r(85);s.DelgateEventsAttribute=i.DelgateEventsAttribute;var a=e.r(86);s.TriggerEventsAttribute=a.TriggerEventsAttribute;var o=e.r(87);s.RepeatAttribute=o.RepeatAttribute;var l=e.r(89);s.MiscAttributes=l.MiscAttributes;var c=e.r(90);s.CssAttribute=c.CssAttribute;var h=e.r(91);s.ModelAttribute=h.ModelAttribute},e.f[83]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(67),i=e.r(19),a=e.r(22),o=e.r(6);let l=class{created(){this.value=this.$attribute.value,this.$element.attributes.removeNamedItem("if.bind"),this.$view=this.$controller.getView(),this.elementClone=this.$element.cloneNode(!0),this.templateElement="TEMPLATE"===this.elementClone.tagName,this.$element.style.display="None",this.added=!1}attached(){this.anchor=o.DOM.document.createComment("mf-if-bind"),this.$element.parentNode.insertBefore(this.anchor,this.$element),this.remove(),this.subscribeCall={name:"ifAttribute",value:this.value,call:e=>{switch(!0){case e&&!this.added:this.added=!0,this.add();break;case!e&&this.added:this.remove()}}},a.BindingEngine.subscribeClassProperty(this.$bindingContext,this.value,this.subscribeCall)}detached(){a.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.subscribeCall),this.remove(),this.anchor&&(this.anchor.parentNode.removeChild(this.anchor),this.anchor=null)}add(){const e=this.elementClone.cloneNode(!0);if(this.templateElement&&!e.content)for(e.content=o.DOM.document.createDocumentFragment();e.childNodes[0];)e.content.appendChild(e.childNodes[0]);let t;if(this.$element=e,this.$templateView=new i.ViewController(e,this.$view),this.templateElement){(t=o.DOM.document.createElement("div")).appendChild(e.content),this.childNodes=[];let s=o.DOM.document.createComment("ifbind-template-anchor-start");this.childNodes.push(s);for(let e=0,s=t.childNodes.length;e<s;e++)this.childNodes.push(t.childNodes[e]);s=o.DOM.document.createComment("ifbind-template-anchor-end"),this.childNodes.push(s)}let s=i.View.parseTemplate(this.templateElement?t:this.$element,this.$bindingContext,this.$templateView);if(this.templateElement){this.anchor.parentNode.insertBefore(this.childNodes[0],this.anchor);for(let e=1,t=this.childNodes.length;e<t;e++)this.anchor.parentNode.insertBefore(this.childNodes[e],this.childNodes[e-1].nextSibling)}else this.anchor.parentNode.insertBefore(this.$element,this.anchor);s.forEach(e=>{e.attached&&e.attached()}),s=null}remove(){if(this.added&&(this.added=!1,this.$templateView.clearView(),this.$templateView=null),this.$element){if(this.templateElement&&this.childNodes)for(let e=0,t=this.childNodes.length;e<t;e++)this.childNodes[e].parentNode===this.anchor.parentNode&&this.anchor.parentNode.removeChild(this.childNodes[e]);else this.anchor.parentNode===this.$element.parentNode&&this.anchor.parentNode.removeChild(this.$element);this.$element=null}}};l=n([r.customAttribute("if.bind")],l),s.IfAttribute=l},e.f[84]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(s,"__esModule",{value:!0});const i=e.r(67),a=e.r(22),o=e.r(6);class l{constructor(e){this.node=e,this.firstRun=!0,this.name="valueAttribute"}call(e,t){if(t!==e||this.firstRun){switch(this.value=e,!0){case"textarea"===this.node.type:case"checkbox"!==this.node.type&&"radio"!==this.node.type&&"select-multiple"!==this.node.type&&"select-one"!==this.node.type:this.node.value=e||"";break;case"checkbox"===this.node.type:const t=this.node.hasAttribute("model.bind")?this.node.getAttributeNode("model.bind"):null;if(t&&t.getContent){const s=t.getContent();s&&(Array.isArray(e)?-1!==e.indexOf(s.value)?this.node.checked=!0:this.node.checked=!1:e===s.value?this.node.checked=!0:this.node.checked=!1)}else Array.isArray(e)?console.warn("error: value is array, this should not happen"):this.node.checked=e||!1;break;case"radio"===this.node.type:if(this.node){const t=this.node.hasAttribute("model.bind")?this.node.getAttributeNode("model.bind"):null;if(t&&t.getContent){const s=t.getContent();s&&e===s.value&&(this.node.checked=!0)}}break;case"select-one"===this.node.type:const s=this.node.options;let n=null;for(let t=0;t<s.length;t++){const r=s[t].hasAttribute("model.bind")?s[t].getAttributeNode("model.bind"):null;if(r&&r.getContent){const s=r.getContent();s&&(Array.isArray(e)?e[0]===s.value&&(n=t):e===s.value&&(n=t))}}this.node.selectedIndex=n;break;case"select-multiple"===this.node.type:const r=this.node.options;for(let t=0;t<r.length;t++){const s=r[t].hasAttribute("model.bind")?r[t].getAttributeNode("model.bind"):null;if(s&&s.getContent){const n=s.getContent();n&&(Array.isArray(e)?(-1!==e.indexOf(n.value)?r[t].selected=!0:r[t].selected=!1,0===e.length&&null===n.value&&(r[t].selected=!0)):e===n.value?r[t].selected=!0:r[t].selected=!1)}}}this.firstRun=!1}}}let c=class{constructor(){this.valueConverters=[],this.eventHandlerBinded=this.eventHandler.bind(this)}attached(){"select-multiple"===this.$element.type&&this.propertyChangeHandler.call(this.propertyChangeHandler.value,"somethign % its not")}created(){switch(this.expressionValue=this.$attribute.value,this.attributeName=this.expressionValue.split("|")[0].trim().split("&")[0].trim(),this.trigger=null,this.name=this.$attribute.name,this.propertyChangeHandler=new l(this.$element),!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:a.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expressionValue,this.propertyChangeHandler),o.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(e=>{this.$element.addEventListener(e,this.eventHandlerBinded,!1)}):this.$element.addEventListener("input",this.eventHandlerBinded,!1);break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:a.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expressionValue,this.propertyChangeHandler),o.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(e=>{this.$element.addEventListener(e,this.eventHandlerBinded,!1)}):this.$element.addEventListener("click",this.eventHandlerBinded,!1);break;case"SELECT"===this.$element.tagName:a.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expressionValue,this.propertyChangeHandler),o.connectBehavior(this.expressionValue,this),this.trigger?this.trigger.forEach(e=>{this.$element.addEventListener(e,this.eventHandlerBinded,!1)}):this.$element.addEventListener("change",this.eventHandlerBinded,!1)}}runValueConverter(e){const t=o.Cache.expressionMap.get(this.expressionValue);return a.BindingEngine.valueConvert(t.ast,this.$bindingContext,e)}detached(){switch(!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:this.trigger?this.trigger.forEach(e=>{this.$element.removeEventListener(e,this.eventHandlerBinded)}):this.$element.removeEventListener("input",this.eventHandlerBinded);break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:this.trigger?this.trigger.forEach(e=>{this.$element.removeEventListener(e,this.eventHandlerBinded)}):this.$element.removeEventListener("click",this.eventHandlerBinded);break;case"SELECT"===this.$element.tagName:this.trigger?this.trigger.forEach(e=>{this.$element.removeEventListener(e,this.eventHandlerBinded)}):this.$element.removeEventListener("change",this.eventHandlerBinded);break;default:this.$attribute.$bindingContext=null}this.propertyChangeHandler.caller&&a.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.propertyChangeHandler)}eventHandler(){switch(!0){case"INPUT"===this.$element.tagName&&"checkbox"!==this.$element.type&&"radio"!==this.$element.type&&"select-multiple"!==this.$element.type&&"select-one"!==this.$element.type||"TEXTAREA"===this.$element.tagName:let e=this.$element.value;"number"===this.$element.type&&(e=this.$element.valueAsNumber),"date"===this.$element.type&&(e=this.$element.valueAsDate),a.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(e));break;case"INPUT"===this.$element.tagName&&"checkbox"===this.$element.type:const t=this.$element.hasAttribute("model.bind")?this.$element.getAttributeNode("model.bind"):null;if(t){const e=t.getContent().value;let s=a.BindingEngine.evaluateExpression(this.$attribute.nodeValue,this.$bindingContext);const n=Array.isArray(s),r=this.$element.checked;if(n)if(r){-1===s.indexOf(e)&&(s=[...s,this.runValueConverter(e)],a.BindingEngine.setValue(this.$bindingContext,this.attributeName,s))}else{const t=s.indexOf(e);-1!==t?(s.splice(t,1),s.__array_observer__class||(s=[...s]),a.BindingEngine.setValue(this.$bindingContext,this.attributeName,s)):this.$element.checked=!1}else a.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(e)||!1)}else a.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.$element.checked||!1);break;case"INPUT"===this.$element.tagName&&"radio"===this.$element.type:const s=this.$element.hasAttribute("model.bind")?this.$element.getAttributeNode("model.bind"):null;if(s){const e=a.BindingEngine.evaluateExpression(s.nodeValue,s.getContent().$bindingContext);a.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(e))}else a.BindingEngine.setValue(this.$bindingContext,this.attributeName,this.runValueConverter(this.$element.checked));break;case"SELECT"===this.$element.tagName:const n=a.BindingEngine.evaluateExpression(this.$attribute.nodeValue,this.$bindingContext),r=Array.isArray(n),i=this.$element.selectedOptions.length;let o=null;if(i>1){const e=[];for(let t=0;t<i;t++){const s=this.$element.selectedOptions[t],n=s.hasAttribute("model.bind")?s.getAttributeNode("model.bind"):null,r=a.BindingEngine.evaluateExpression(n.nodeValue,n.getContent().$bindingContext);e.push(this.runValueConverter(r))}o=e}else if(0===i)o=null;else{const e=this.$element.selectedOptions[0],t=e.hasAttribute("model.bind")?e.getAttributeNode("model.bind"):null;o=a.BindingEngine.evaluateExpression(t.nodeValue,t.getContent().$bindingContext)}r?a.BindingEngine.setValue(this.$bindingContext,this.attributeName,Array.isArray(o)?o:null===o?[]:[o]):a.BindingEngine.setValue(this.$bindingContext,this.attributeName,Array.isArray(o)?o.map(e=>e):o)}}};c=n([i.customAttribute("value.bind"),i.customAttribute("checked.bind"),r("design:paramtypes",[])],c),s.ValueAttribute=c},e.f[85]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(s,"__esModule",{value:!0});const i=e.r(67),a=e.r(22),o=e.r(6),l=e.r(60);let c=class{constructor(){}created(){this.name=this.$attribute.name.replace(".delegate",""),this.value=this.$attribute.value,this.expressionValue=this.$attribute.value,this.eventHandlerBinded=this.eventHandler.bind(this),o.connectBehavior(this.expressionValue,this),this.$element.addEventListener(this.name,this.eventHandlerBinded,!1)}attached(){}detached(){this.$element.removeEventListener(this.name,this.eventHandlerBinded)}eventHandler(e){a.BindingEngine.tokenizeParseAndTraverseAST(this.value,l.createBindingContext(this.$bindingContext.$context,this.$bindingContext.$overrideContext,e))}};c=n([i.customAttribute("#VARIABLE#.delegate"),r("design:paramtypes",[])],c),s.DelgateEventsAttribute=c},e.f[86]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(67),i=e.r(22),a=e.r(6),o=e.r(60);let l=class{created(){this.name=this.$attribute.name.replace(".trigger",""),this.value=this.$attribute.value,this.expressionValue=this.$attribute.value,this.eventHandlerBinded=this.eventHandler.bind(this),a.connectBehavior(this.expressionValue,this),this.$element.addEventListener(this.name,this.eventHandlerBinded,!1)}attached(){}detached(){this.$element.removeEventListener(this.name,this.eventHandlerBinded)}eventHandler(e){i.BindingEngine.tokenizeParseAndTraverseAST(this.value,o.createBindingContext(this.$bindingContext.$context,this.$bindingContext.$overrideContext,e))}};l=n([r.customAttribute("#VARIABLE#.trigger")],l),s.TriggerEventsAttribute=l},e.f[87]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(67),i=e.r(19),a=e.r(19),o=e.r(22),l=e.r(88),c=e.r(6),h=e.r(60);let u=class{constructor(){this.templateArray=[],this.arrayType="object"}setArrayLocalVariables(e,t){e.$index=t,e.$even=t%2==0,e.$odd=t%2!=0,e.$last=t===this.templateArray.length-1,e.$first=0===t}created(){this.value=this.$attribute.value,this.loopBinded=this.loopArray.bind(this),this.$view=this.$controller.getView(),this.$element.attributes.removeNamedItem("repeat.for"),this.elementClone=this.$element.cloneNode(!0),this.templateElement="TEMPLATE"===this.elementClone.tagName,this.elementClone.getAttribute("if.bind")&&this.templateElement&&(this.templateElement=!1),this.$element.style.display="None";const e=c.DOM.document.createElement("div"),t=this.elementClone.cloneNode(!0);if(this.templateElement&&!t.content)for(t.content=c.DOM.document.createDocumentFragment();t.childNodes[0];)t.content.appendChild(t.childNodes[0]);if(e.appendChild(this.templateElement?t.content:t),this.anchor=c.DOM.document.createComment("mf-repeat-for"),this.repeatForArray=this.value.split(" of "),this.repeatForArray=this.repeatForArray.map(e=>e.trim()),2!==this.repeatForArray.length)console.error("unknown expression in repeat:"+this.value);else{if(this.rowInstanceName=this.repeatForArray[0],this.arrayVariableName=this.repeatForArray[1],this.arrayExpression=this.repeatForArray[1],this.arrayVariableName.indexOf("|")){const e=this.arrayVariableName.split("|").map(e=>e.trim());this.arrayVariableName=e[0]}this.$array=o.BindingEngine.evaluateExpression(this.arrayExpression,this.$bindingContext);const e=this.$array;Array.isArray(e)?(this.subscribeArray(),this.subscribePropArray()):"number"==typeof e?(this.arrayType="number",this.subscribePropSimple()):"string"==typeof e?(this.arrayType="string",this.subscribePropSimple()):(this.subscribeArray(),this.subscribePropArray())}}loopArray(e,t,s){const n=this.$array;if(n){if(e){if(t){const e=this.templateArray.length-t;for(let t=0;t<this.templateArray.length;t++)if(t<e)this.templateArray[t].ctx.$context[this.rowInstanceName]!==n[t]&&(this.templateArray[t].ctx.$context[this.rowInstanceName]=n[t]);else{const e=this.templateArray.pop();t--,this.clearInRow(e)}}if(s){const e=n.length-s;for(let t=0;t<n.length;t++)t<e?this.templateArray[t].ctx.$context[this.rowInstanceName]!==this.$array[t]&&(this.templateArray[t].ctx.$context[this.rowInstanceName]=this.$array[t]):this.push(n[t])}}else for(let e=0;e<this.$array.length;e++)this.templateArray[e].ctx.$context[this.rowInstanceName]!==n[e]&&(this.templateArray[e].ctx.$context[this.rowInstanceName]=n[e]);this.updateInternals()}}loopArrayNumber(e,t,s){const n=this.templateArray.length+1;if(n){if(e){if(t){const e=this.templateArray.length-t;for(let t=0;t<this.templateArray.length;t++)if(t>=e){const e=this.templateArray.pop();t--,this.clearInRow(e)}}if(s){const e=n;for(let t=0;t<n+s;t++)t>=e&&this.push(t)}}else for(let e=0;e<this.$array;e++)this.templateArray[e].ctx.$context[this.rowInstanceName]!==e&&(this.templateArray[e].ctx.$context[this.rowInstanceName]=e);this.updateInternals()}}detached(){this.clearTemplateArray(),this.arrayMethodCallHandler&&o.BindingEngine.unSubscribeClassArray(this.$bindingContext,this.arrayMethodCallHandler),this.arrayPropertyChangeHandler&&o.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.arrayPropertyChangeHandler),this.arrayPropertyChangeHandlerLocal&&o.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.arrayPropertyChangeHandlerLocal),this.propertyChangeHandlerSimple&&o.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.propertyChangeHandlerSimple),this.anchor&&(this.anchor.parentNode.removeChild(this.anchor),this.anchor=null),this.$view=null,this.$array=null,this.arrayMethodCallHandler=null,this.arrayPropertyChangeHandler=null,this.arrayPropertyChangeHandlerLocal=null,this.propertyChangeHandlerSimple=null}attached(){this.remove(),this.isAttached=!0,this.$array=o.BindingEngine.evaluateExpression(this.arrayExpression,this.$bindingContext);const e=this.$array;if(Array.isArray(e))e.forEach(e=>{this.push(e)});else{if("number"===this.arrayType&&this.templateArray.length!==e){this.clearTemplateArray();for(let t=0;t<e;t++)this.push(t+1)}if("string"===this.arrayType){const t="string"==typeof e?e.length:0;if(this.templateArray.length!==t){this.clearTemplateArray();for(let s=0;s<t;s++)this.push(e[s])}}}this.updateInternals()}subscribeArray(){this.arrayMethodCallHandler||(this.arrayMethodCallHandler=new l.ArrayMethodCallHandler(this)),o.BindingEngine.subscribeClassArray(this.$bindingContext,this.arrayVariableName,this.arrayMethodCallHandler)}subscribePropArray(){if(this.arrayPropertyChangeHandler?console.error("subscribePropArray fail, called when set",this.arrayExpression,this.arrayVariableName):this.arrayPropertyChangeHandler=new l.ArrayPropertyChange(this),o.BindingEngine.subscribeClassProperty(this.$bindingContext,this.arrayVariableName,this.arrayPropertyChangeHandler),this.arrayVariableName!==this.arrayExpression){this.arrayPropertyChangeHandlerLocal||(this.arrayPropertyChangeHandlerLocal=new l.ArrayPropertyChange(this));const e=this.arrayExpression.replace(this.arrayVariableName,"$array");o.BindingEngine.subscribeClassProperty(h.createBindingContext(this),e,this.arrayPropertyChangeHandlerLocal)}}subscribePropSimple(){this.propertyChangeHandlerSimple||(this.propertyChangeHandlerSimple=new l.PropertyChangeSimple(this)),o.BindingEngine.subscribeClassProperty(this.$bindingContext,this.arrayVariableName,this.propertyChangeHandlerSimple)}push(e,t){const s=this.elementClone.cloneNode(!0);if(this.templateElement&&!s.content)for(s.content=c.DOM.document.createDocumentFragment();s.childNodes[0];)s.content.appendChild(s.childNodes[0]);const n=h.createBindingContext({[this.rowInstanceName]:e},h.createBindingContext(this.$bindingContext,this.$bindingContext)),r=c.DOM.document.createElement("div");r.appendChild(this.templateElement?s.content:s);const o=new a.ViewController(s,this.$view);this.cache||(this.cache=i.View.createTemplateCache(r));const l=i.View.parseTemplateCache(r,n,o,this.cache);let u;if(this.templateElement){u=[];let e=c.DOM.document.createComment("repeat-template-row-anchor-start");u.push(e);for(let e=0,t=r.childNodes.length;e<t;e++)u.push(r.childNodes[e]);e=c.DOM.document.createComment("repeat-template-row-anchor-end"),u.push(e)}if(void 0===t){const e=this.templateArray.length;if(this.templateArray.push({ctx:n,template:this.templateElement?u:s,$view:o}),this.setArrayLocalVariables(n.$context,this.templateArray.length-1),this.templateElement)if(e){const t=this.templateArray[e-1].template.length-1;this.anchor.parentNode.insertBefore(u[0],this.templateArray[e-1].template[t].nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else{this.anchor.parentNode.insertBefore(u[0],this.anchor.nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else e?this.anchor.parentNode.insertBefore(s,this.templateArray[e-1].template.nextSibling):this.anchor.parentNode.insertBefore(s,this.anchor.nextSibling)}else if(this.templateArray.splice(t,0,{ctx:n,template:this.templateElement?u:s,$view:o}),this.templateElement)if(this.templateArray[t+1]){const e=this.templateArray[length-1].template.length-1;this.anchor.parentNode.insertBefore(u[0],this.templateArray[length-1].template[e].nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else{this.anchor.parentNode.insertBefore(u[0],this.anchor.nextSibling);for(let e=1,t=u.length;e<t;e++)this.anchor.parentNode.insertBefore(u[e],u[e-1].nextSibling)}else this.templateArray[t+1]?this.anchor.parentNode.insertBefore(s,this.templateArray[t+1].template):this.anchor.parentNode.appendChild(s);l.forEach(e=>{e.attached&&e.attached()})}pop(){if(this.templateArray.length>0){const e=this.templateArray.pop();this.clearInRow(e),this.updateInternals()}}updateInternals(){this.templateArray.forEach((e,t)=>{this.setArrayLocalVariables(e.ctx.$context,t)})}shift(){if(this.templateArray.length>0){const e=this.templateArray.shift();this.clearInRow(e),this.updateInternals()}}splice(e){if(this.templateArray.length>0){const t=e[0],s=0===e[0]&&void 0===e[1]?this.templateArray.length:e[1],n=[];for(let t=2;t<e.length;t++)e[t]&&n.push(e[t]);if(s){for(let e=t+s-1;e>t-1;e--){const t=this.templateArray.splice(e,1)[0];this.clearInRow(t)}}n.forEach(e=>{this.push(e,t)}),this.updateInternals()}}clearTemplateArray(){let e=c.DOM.document.createElement("div");this.templateArray.forEach(t=>{if(this.templateElement)for(let s=0,n=t.template.length;s<n;s++)e.appendChild(t.template[s]);else e.appendChild(t.template)}),this.templateArray.forEach(e=>{e.$view.clearView()}),e=null,this.templateArray=[]}remove(){this.clearTemplateArray(),this.$element.parentNode.replaceChild(this.anchor,this.$element)}clearInRow(e){if(e)if(this.templateElement)for(let t=0,s=e.template.length;t<s;t++)e.$view.clearView(),e.template[t].parentNode&&e.template[t].parentNode.removeChild(e.template[t]);else e.template.parentNode&&e.template.parentNode.removeChild(e.template),e.$view.clearView()}};u=n([r.customAttribute("repeat.for")],u),s.RepeatAttribute=u},e.f[88]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(22);s.ArrayMethodCallHandler=class{constructor(e){this.repeat=e,this.name="repeat"+this.repeat.value}call(e){let t=!0;e.forEach(e=>{switch(e.event){case"push":let s=0;for(;s<e.args.length;)this.repeat.push(e.args[s]),s++;this.repeat.updateInternals();break;case"reverse":case"sort":if(t){t=!1;const e=this.repeat.$array;e&&e.forEach((e,t)=>{this.repeat.templateArray[t].ctx.$context[this.repeat.rowInstanceName]=e})}break;case"shift":this.repeat.shift();break;case"pop":this.repeat.pop();break;case"splice":this.repeat.splice(e.args)}})}};s.ArrayPropertyChange=class{constructor(e,t){this.repeat=e,this.expression=t,this.name="repeat"+this.repeat.value}call(){if(this.repeat.isAttached){const e=n.BindingEngine.evaluateExpression(this.repeat.arrayExpression,this.repeat.$bindingContext);if(Array.isArray(e)&&this.repeat.templateArray.length!==e.length)if(this.repeat.$array=e,0!==this.repeat.templateArray.length&&0!==e.length)this.repeat.templateArray.length>e.length?this.repeat.loopBinded(!0,this.repeat.templateArray.length-e.length,0):this.repeat.loopBinded(!0,0,e.length-this.repeat.templateArray.length),n.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),this.repeat.subscribeArray();else{this.repeat.clearTemplateArray();let e=n.BindingEngine.evaluateExpression(this.repeat.arrayExpression,this.repeat.$bindingContext);Array.isArray(e)&&(e.forEach(e=>{this.repeat.push(e)}),n.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),this.repeat.subscribeArray(),e=null)}else Array.isArray(e)?(this.repeat.$array=e,this.repeat.loopBinded(),n.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),e&&this.repeat.subscribeArray()):(this.repeat.$array=Array.isArray(e)?e:[],this.repeat.clearTemplateArray(),n.BindingEngine.unSubscribeClassArray(this.repeat.$bindingContext,this.repeat.arrayMethodCallHandler),e&&this.repeat.subscribeArray())}}};s.PropertyChangeSimple=class{constructor(e){this.repeat=e,this.name="repeat"+this.repeat.value}call(e){if(this.repeat.isAttached){if("string"===this.repeat.arrayType){const t="string"==typeof e?e.length:0;if(this.repeat.templateArray.length!==t){this.repeat.clearTemplateArray();for(let s=0;s<t;s++)this.repeat.push(e[s])}}"number"===this.repeat.arrayType&&("number"!=typeof e&&(console.warn("repeat not number:",e),e=0),this.repeat.templateArray.length!==e&&(this.repeat.templateArray.length<e?this.repeat.loopArrayNumber(!0,0,e-this.repeat.templateArray.length):this.repeat.loopArrayNumber(!0,this.repeat.templateArray.length-e,0)))}}}},e.f[89]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(67),i=e.r(22);let a=class{created(){this.value=this.$attribute.value,this.name=this.$attribute.name.replace(".bind",""),this.init=!0,this.subscribeInternal={name:this.name+"Attribute(misc)",value:this.value,call:(e,t)=>{if(t!==e||this.init)switch(this.init=!1,this.name){case"readonly":e?this.$element.readOnly=e:this.$element.removeAttribute(this.name);break;case"src":e?this.$element.src=e:this.$element.removeAttribute(this.name);break;case"disabled":e?this.$element.disabled=e:this.$element.removeAttribute(this.name);break;case"class":this.$element.className=e||"";break;case"show":this.$element.style.display=e?"block":"none";break;default:this.$element.setAttribute(this.name,e)}}},i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.value,this.subscribeInternal)}detached(){i.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.subscribeInternal)}attached(){this.$element.removeAttribute(this.$attribute.name)}};a=n([r.customAttribute("readonly.bind"),r.customAttribute("disabled.bind"),r.customAttribute("show.bind"),r.customAttribute("class.bind"),r.customAttribute("src.bind")],a),s.MiscAttributes=a},e.f[90]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(67),i=e.r(22);let a=class{constructor(){this.lastStyles=[]}created(){this.value=this.$attribute.value,this.$element.removeAttribute(this.$attribute.name),this.subscribeInternal={name:"cssAttribute:",value:this.value,call:(e,t)=>{t!==e&&this.splitAndInsert(e)}},i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.value,this.subscribeInternal)}splitAndInsert(e){try{const t=(e=null==e?"":e).split(";").map(e=>e.split(":")).filter(e=>2===e.length).map(e=>({attribute:e[0],value:e[1].replace(/ /g,"")})),s=[];t.forEach(e=>{s.push(e.attribute.trim()),this.$element.style[e.attribute.trim()]=e.value.trim()}),this.lastStyles.forEach(e=>{-1===s.indexOf(e)&&(this.$element.style[e]=null)}),this.lastStyles=s}catch(e){console.error("could not parse css values")}}detached(){i.BindingEngine.unSubscribeClassProperty(this.$bindingContext,this.subscribeInternal)}};a=n([r.customAttribute("css")],a),s.CssAttribute=a},e.f[91]=function(t,s){var n=this&&this.__decorate||function(e,t,s,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,s):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,s,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(a=(i<3?r(a):i>3?r(t,s,a):r(t,s))||a);return i>3&&a&&Object.defineProperty(t,s,a),a};Object.defineProperty(s,"__esModule",{value:!0});const r=e.r(67),i=e.r(22);let a=class{created(){this.$attribute.getContent=(()=>this),this.expression=this.$attribute.value,this.subscribeInternal={name:"modelAttribute:",value:this.value,call:(e,t)=>{t!==e&&(this.value=e)}},i.BindingEngine.subscribeClassProperty(this.$bindingContext,this.expression,this.subscribeInternal)}detached(){this.$attribute.getContent=null}};a=n([r.customAttribute("model.bind")],a),s.ModelAttribute=a},e.f[92]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=new Map,n=new Map,r=new Map,i=new Map;let a={};const o=function(e){return e.split(/\.|\[([^\]]+)\]\.?/).filter(e=>e||null)};class l{static clear(){s.clear(),n.clear(),r.clear(),i.clear(),a={}}}l.templateMap=s,l.expressionMap=n,l.astMap=r,l.splitMap=i,l.keyMaps={has:e=>!!a[e],get:e=>a[e],set(e){const t=o(e);return a[e]=t,t},getCreate(e){if(a[e])return a[e];{const t=o(e);return a[e]=t,t}}},t.Cache=l},e.f[93]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});let s,n=!1,r=1e4;class i{constructor(e,t){this.id=r,r++,this.name=e,this.category=t||"unamed"}static getLogger(e,t){return n?new i(e,t):s}static enable(){n=!0}static disable(){n=!1}log(...e){n&&console.warn(`Log[${this.id}] - [${this.category}] - [${this.name}] `,e.join(" - "))}}t.Logger=i,s=new i("na","na")},e.f[94]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.raiseEvent=function(e,t,s,n){const r=new CustomEvent(t,{detail:void 0!==s?s:{},bubbles:n||!1});return e.dispatchEvent(r),r}},e.f[95]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.register=function(...e){e=e}},e.f[96]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.FetchClient=class{constructor(e={}){this.config=e,this.setConfig(e)}setConfig(e){e.defaultUrl&&(this.config.defaultUrl=e.defaultUrl),e.cache&&(this.config.cache=e.cache),e.credentials&&(this.config.credentials=e.credentials),e.headers&&(this.config.headers=e.headers),e.method&&(this.config.method=e.method),e.mode&&(this.config.mode=e.mode),e.redirect&&(this.config.redirect=e.redirect),e.referrer&&(this.config.referrer=e.referrer)}getConfig(){return this.config}fetch(e,t){const s=this.config.defaultUrl?this.config.defaultUrl+e:e,n={body:t.body?t.body:void 0,cache:t.cache||this.config.cache,credentials:t.credentials||this.config.credentials,headers:t.headers||this.config.headers,method:t.method||this.config.method,mode:t.mode||this.config.mode,redirect:t.redirect||this.config.redirect,referrer:t.referrer||this.config.referrer};return fetch(s,n)}}},e.f[97]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const s=Object.prototype.hasOwnProperty;function n(e){return decodeURIComponent(e.replace(/\+/g," "))}t.urlQueryParse=function(e){const t=/([^=?&]+)=?([^&]*)/g,s={};let r;for(;r=t.exec(e);s[n(r[1])]=n(r[2]));return s},t.urlqueryStringify=function(e,t){const n=[];"string"!=typeof(t=t||"")&&(t="?");for(const t in e)s.call(e,t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.length?t+n.join("&"):""}},e.f[98]=function(t,s){Object.defineProperty(s,"__esModule",{value:!0});const n=e.r(22),r=e.r(92),i=e.r(11);s.connectBehavior=function(e,t){if(-1!==e.indexOf("&")){let s=r.Cache.expressionMap.get(e);if(!s){const t=n.BindingEngine.tokenize(e);(s={}).ast=n.BindingEngine.generateAST(t),r.Cache.expressionMap.set(e,{ast:s.ast,tokens:t})}const a=n.BindingEngine.getBehavior(s.ast);a&&a.forEach(e=>{const s=i.ContainerBehavior.findBehavior(e.name);if(s){let n=new s(t,e.args);n=n}})}}},e.f[99]=function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.template=function(...e){let t="<template>"+e[0][0];const s=[].slice.call(e,1);for(let n=0;n<s.length;++n)t+=s[n]+e[0][n+1];return t+"</template>"}},e.r(0)}($fsx);